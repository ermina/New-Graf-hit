!function(f){"function"==typeof define&&define.amd?define(["jquery","moment"],f):"object"==typeof exports?module.exports=f(require("jquery"),require("moment")):f(jQuery,moment)}(function(f,q){function jb(a){var b,c={views:a.views||{}};return f.each(a,function(a,e){"views"!=a&&(f.isPlainObject(e)&&!/(time|duration|interval)$/i.test(a)&&-1==f.inArray(a,R)?(b=null,f.each(e,function(e,h){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(c.views[e]||(c.views[e]={}),c.views[e][a]=
h):(b||(b={}),b[e]=h)}),b&&(c[a]=b)):c[a]=e)}),c}function wa(a,b){b.left&&a.css({"border-left-width":1,"margin-left":b.left-1});b.right&&a.css({"border-right-width":1,"margin-right":b.right-1})}function xa(a){a.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function X(){f("body").addClass("fc-not-allowed")}function T(){f("body").removeClass("fc-not-allowed")}function ya(a,b,c){var d=Math.floor(b/a.length),e=Math.floor(b-d*(a.length-1)),g=[],h=[],m=[],l=0;
a.height("");a.each(function(b,c){var r=b===a.length-1?e:d,n=f(c).outerHeight(!0);r>n?(g.push(c),h.push(n),m.push(f(c).height())):l+=n});c&&(b-=l,d=Math.floor(b/g.length),e=Math.floor(b-d*(g.length-1)));f(g).each(function(a,b){var c=a===g.length-1?e:d,l=h[a],n=c-(l-m[a]);c>l&&f(b).height(n)})}function Aa(a){var b=0;return a.find("> span").each(function(a,d){var e=f(d).outerWidth();e>b&&(b=e)}),b++,a.width(b),b}function Ba(a,b){var c,d=a.add(b);return d.css({position:"relative",left:-1}),c=a.outerHeight()-
b.outerHeight(),d.css({position:"",left:""}),c}function ha(a){var b=a.css("position"),c=a.parents().filter(function(){var a=f(this);return/(auto|scroll)/.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==b&&c.length?c:f(a[0].ownerDocument||document)}function ia(a,b){var c=a.offset(),d=c.left-(b?b.left:0),c=c.top-(b?b.top:0);return{left:d,right:d+a.outerWidth(),top:c,bottom:c+a.outerHeight()}}function Ca(a,b){var c=a.offset(),d=ja(a),e=c.left+(parseFloat(a.css("border-left-width"))||
0)+d.left-(b?b.left:0),c=c.top+(parseFloat(a.css("border-top-width"))||0)+d.top-(b?b.top:0);return{left:e,right:e+a[0].clientWidth,top:c,bottom:c+a[0].clientHeight}}function ja(a){var b=a.innerWidth()-a[0].clientWidth,c={left:0,right:0,top:0,bottom:a.innerHeight()-a[0].clientHeight};if(null===ka){var d=f("<div><div/></div>").css({position:"absolute",top:-1E3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),e=d.children().offset().left>d.offset().left;ka=(d.remove(),e)}return ka&&
"rtl"==a.css("direction")?c.left=b:c.right=b,c}function I(a){return void 0!==a.pageX?a.pageX:(a=a.originalEvent.touches)?a[0].pageX:void 0}function H(a){return void 0!==a.pageY?a.pageY:(a=a.originalEvent.touches)?a[0].pageY:void 0}function Y(a){a.preventDefault()}function Da(a,b){var c={left:Math.max(a.left,b.left),right:Math.min(a.right,b.right),top:Math.max(a.top,b.top),bottom:Math.min(a.bottom,b.bottom)};return c.left<c.right&&c.top<c.bottom?c:!1}function Ea(a){var b,c=[],d=[];"string"==typeof a?
d=a.split(/\s*,\s*/):"function"==typeof a?d=[a]:f.isArray(a)&&(d=a);for(a=0;a<d.length;a++)b=d[a],"string"==typeof b?c.push("-"==b.charAt(0)?{field:b.substring(1),order:-1}:{field:b,order:1}):"function"==typeof b&&c.push({func:b});return c}function Fa(a,b,c){var d,e;for(d=0;d<c.length;d++)if(e=Ga(a,b,c[d]))return e;return 0}function Ga(a,b,c){return c.func?c.func(a,b):Ha(a[c.field],b[c.field])*(c.order||1)}function Ha(a,b){return a||b?null==b?-1:null==a?1:"string"===f.type(a)||"string"===f.type(b)?
String(a).localeCompare(String(b)):a-b:0}function la(a,b){var c,d,e,g,h=a.start,f=a.end,l=b.start,p=b.end;return f>l&&p>h?(h>=l?(c=h.clone(),e=!0):(c=l.clone(),e=!1),p>=f?(d=f.clone(),g=!0):(d=p.clone(),g=!1),{start:c,end:d,isStart:e,isEnd:g}):void 0}function Ia(a,b){return q.duration({days:a.clone().stripTime().diff(b.clone().stripTime(),"days"),ms:a.time()-b.time()})}function Ja(a,b,c){return q.duration(Math.round(a.diff(b,c,!0)),c)}function ma(a,b){var c,d,e;for(c=0;c<na.length&&(d=na[c],e=kb(d,
a,b),!(1<=e&&J(e)));c++);return d}function kb(a,b,c){return null!=c?c.diff(b,a,!0):q.isDuration(b)?b.as(a):b.end.diff(b.start,a,!0)}function oa(a,b){var c,d;return N(a)||N(b)?a/b:(c=a.asMonths(),d=b.asMonths(),1<=Math.abs(c)&&J(c)&&1<=Math.abs(d)&&J(d)?c/d:a.asDays()/b.asDays())}function N(a){return!!(a.hours()||a.minutes()||a.seconds()||a.milliseconds())}function Ka(a){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(a)}function O(a,b){var c,d,e,g,h,f={};if(b)for(c=0;c<b.length;c++){d=b[c];e=[];for(g=
a.length-1;0<=g;g--)if(h=a[g][d],"object"==typeof h)e.unshift(h);else if(void 0!==h){f[d]=h;break}e.length&&(f[d]=O(e))}for(c=a.length-1;0<=c;c--)for(d in e=a[c],e)d in f||(f[d]=e[d]);return f}function Z(a){var b=function(){};return b.prototype=a,new b}function aa(a,b){for(var c in a)La.call(a,c)&&(b[c]=a[c])}function lb(a,b){var c,d,e=["constructor","toString","valueOf"];for(c=0;c<e.length;c++)d=e[c],a[d]!==Object.prototype[d]&&(b[d]=a[d])}function ba(a,b,c){if(f.isFunction(a)&&(a=[a]),a){var d,
e;for(d=0;d<a.length;d++)e=a[d].apply(b,c)||e;return e}}function F(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]}function x(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function ca(a){var b=[];return f.each(a,function(a,d){null!=d&&b.push(a+":"+d)}),b.join(";")}function mb(a,b){return a-b}function J(a){return 0===a%1}function U(a,b){var c=a[b];return function(){return c.apply(a,
arguments)}}function pa(a,b,c){var d,e,g,h,f,l=function(){var p=+new Date-h;b>p?d=setTimeout(l,b-p):(d=null,c||(f=a.apply(g,e),g=e=null))};return function(){g=this;e=arguments;h=+new Date;var p=c&&!d;return d||(d=setTimeout(l,b)),p&&(f=a.apply(g,e),g=e=null),f}}function qa(a,b,c){var d,e,g,h,m=a[0],l=1==a.length&&"string"==typeof m;if(q.isMoment(m))h=q.apply(null,a),Ma(m,h);else{var p=m;"[object Date]"===Object.prototype.toString.call(p)||p instanceof Date||void 0===m?h=q.apply(null,a):(d=!1,e=!1,
l?nb.test(m)?(m+="-01",a=[m],d=!0,e=!0):(g=ob.exec(m))&&(d=!g[5],e=!0):f.isArray(m)&&(e=!0),h=b||d?q.utc.apply(q,a):q.apply(null,a),d?(h._ambigTime=!0,h._ambigZone=!0):c&&(e?h._ambigZone=!0:l&&(h.utcOffset?h.utcOffset(m):h.zone(m))))}return h._fullCalendar=!0,h}function ra(a,b){var c,d,e=!1,g=!1,h=a.length,f=[];for(c=0;h>c;c++)d=a[c],q.isMoment(d)||(d=n.moment.parseZone(d)),e=e||d._ambigTime,g=g||d._ambigZone,f.push(d);for(c=0;h>c;c++)d=f[c],b||!e||d._ambigTime?g&&!d._ambigZone&&(f[c]=d.clone().stripZone()):
f[c]=d.clone().stripTime();return f}function Ma(a,b){a._ambigTime?b._ambigTime=!0:b._ambigTime&&(b._ambigTime=!1);a._ambigZone?b._ambigZone=!0:b._ambigZone&&(b._ambigZone=!1)}function Na(a,b){a.year(b[0]||0).month(b[1]||0).date(b[2]||0).hours(b[3]||0).minutes(b[4]||0).seconds(b[5]||0).milliseconds(b[6]||0)}function K(a,b){return u.format.call(a,b)}function Oa(a,b){var c,d="";for(c=0;c<b.length;c++)d+=sa(a,b[c]);return d}function sa(a,b){var c,d;return"string"==typeof b?b:(c=b.token)?Pa[c]?Pa[c](a):
K(a,c):b.maybe&&(d=Oa(a,b.maybe),d.match(/[1-9]/))?d:""}function Qa(a,b,c,d,e){a=n.moment.parseZone(a);b=n.moment.parseZone(b);c=(a.localeData||a.lang).call(a).longDateFormat(c)||c;d=d||" - ";c=Ra(c);var g,h,f,l=a.clone().stripZone(),p=b.clone().stripZone(),k="",r="",q="",M="",V="";for(h=0;h<c.length&&(g=Sa(a,b,l,p,c[h]),!1!==g);h++)k+=g;for(f=c.length-1;f>h&&(g=Sa(a,b,l,p,c[f]),!1!==g);f--)r=g+r;for(g=h;f>=g;g++)q+=sa(a,c[g]),M+=sa(b,c[g]);return(q||M)&&(V=e?M+d+q:q+d+M),k+V+r}function Sa(a,b,c,
d,e){var g,h;return"string"==typeof e?e:(g=e.token)&&(h=pb[g.charAt(0)],h&&c.isSame(d,h))?K(a,g):!1}function Ra(a){return a in ta?ta[a]:ta[a]=Ta(a)}function Ta(a){for(var b,c=[],d=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;b=d.exec(a);)b[1]?c.push(b[1]):b[2]?c.push({maybe:Ta(b[2])}):b[3]?c.push({token:b[3]}):b[5]&&c.push(b[5]);return c}function C(){}function qb(a,b){var c;return La.call(b,"constructor")&&(c=b.constructor),"function"!=typeof c&&(c=b.constructor=function(){a.apply(this,
arguments)}),c.prototype=Z(a.prototype),aa(b,c.prototype),lb(b,c.prototype),aa(a,c),c}function Ua(a,b){return a||b?a&&b?a.component===b.component&&Va(a,b)&&Va(b,a):!1:!0}function Va(a,b){for(var c in a)if(!/^(component|left|right|top|bottom)$/.test(c)&&a[c]!==b[c])return!1;return!0}function Wa(a){a=Xa(a);return"background"===a||"inverse-background"===a}function Xa(a){return F((a.source||{}).rendering,a.rendering)}function rb(a){var b,c,d={};for(b=0;b<a.length;b++)c=a[b],(d[c._id]||(d[c._id]=[])).push(c);
return d}function sb(a,b){return a.start-b.start}function tb(a){var b,c,d,e,g=n.dataAttrPrefix;return g&&(g+="-"),b=a.data(g+"event")||null,b&&(b="object"==typeof b?f.extend({},b):{},c=b.start,null==c&&(c=b.time),d=b.duration,e=b.stick,delete b.start,delete b.time,delete b.duration,delete b.stick),null==c&&(c=a.data(g+"start")),null==c&&(c=a.data(g+"time")),null==d&&(d=a.data(g+"duration")),null==e&&(e=a.data(g+"stick")),c=null!=c?q.duration(c):null,d=null!=d?q.duration(d):null,e=!!e,{eventProps:b,
startTime:c,duration:d,stick:e}}function ub(a,b){var c,d;for(c=0;c<b.length;c++)if(d=b[c],d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0;return!1}function vb(a,b){return a.leftCol-b.leftCol}function Ya(a){var b,c,d=a.forwardSegs,e=0;if(void 0===a.forwardPressure){for(b=0;b<d.length;b++)c=d[b],Ya(c),e=Math.max(e,1+c.forwardPressure);a.forwardPressure=e}}function Za(a,b,c){c=c||[];for(var d=0;d<b.length;d++){var e=b[d];a.bottom>e.top&&a.top<e.bottom&&c.push(b[d])}return c}function $a(a){f.each(wb,
function(b,c){null==a[b]&&(a[b]=c(a))})}function ab(a){var b=q.localeData||q.langData;return b.call(q,a)||b.call(q,"en")}function xb(a,b){function c(c){var e=f('<div class="fc-'+c+'"/>');c=b.header[c];return c&&f.each(c.split(" "),function(c){var h,k=f(),r=!0;f.each(this.split(","),function(c,e){var h,m,l,p,n,q,y,w,u,A;"title"==e?(k=k.add(f("<h2>&nbsp;</h2>")),r=!1):((h=(a.options.customButtons||{})[e])?(l=function(a){h.click&&h.click.call(A[0],a)},p="",n=h.text):(m=a.getViewSpec(e))?(l=function(){a.changeView(e)},
g.push(e),p=m.buttonTextOverride,n=m.buttonTextDefault):a[e]&&(l=function(){a[e]()},p=(a.overrides.buttonText||{})[e],n=b.buttonText[e]),l&&(q=h?h.themeIcon:b.themeButtonIcons[e],y=h?h.icon:b.buttonIcons[e],w=p?x(p):q&&b.theme?"<span class='ui-icon ui-icon-"+q+"'></span>":y&&!b.theme?"<span class='fc-icon fc-icon-"+y+"'></span>":x(n),u=["fc-"+e+"-button",d+"-button",d+"-state-default"],A=f('<button type="button" class="'+u.join(" ")+'">'+w+"</button>").click(function(a){A.hasClass(d+"-state-disabled")||
(l(a),(A.hasClass(d+"-state-active")||A.hasClass(d+"-state-disabled"))&&A.removeClass(d+"-state-hover"))}).mousedown(function(){A.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-down")}).mouseup(function(){A.removeClass(d+"-state-down")}).hover(function(){A.not("."+d+"-state-active").not("."+d+"-state-disabled").addClass(d+"-state-hover")},function(){A.removeClass(d+"-state-hover").removeClass(d+"-state-down")}),k=k.add(A)))});r&&k.first().addClass(d+"-corner-left").end().last().addClass(d+
"-corner-right").end();1<k.length?(h=f("<div/>"),r&&h.addClass("fc-button-group"),h.append(k),e.append(h)):e.append(k)}),e}this.render=function(){var a=b.header;return d=b.theme?"ui":"fc",a?e=f("<div class='fc-toolbar'/>").append(c("left")).append(c("right")).append(c("center")).append('<div class="fc-clear"/>'):void 0};this.removeElement=function(){e.remove();e=f()};this.updateTitle=function(a){e.find("h2").text(a)};this.activateButton=function(a){e.find(".fc-"+a+"-button").addClass(d+"-state-active")};
this.deactivateButton=function(a){e.find(".fc-"+a+"-button").removeClass(d+"-state-active")};this.disableButton=function(a){e.find(".fc-"+a+"-button").attr("disabled","disabled").addClass(d+"-state-disabled")};this.enableButton=function(a){e.find(".fc-"+a+"-button").removeAttr("disabled").removeClass(d+"-state-disabled")};this.getViewsWithButtons=function(){return g};var d,e=f(),g=[]}function yb(a){function b(a,b){c(a,function(c){var d,e,g=f.isArray(a.events);if(b==C){if(c)for(d=0;d<c.length;d++)e=
c[d],(e=g?e:l(e,a))&&D.push.apply(D,r(e));E--;E||x(D)}})}function c(b,d){var e,g,h=n.sourceFetchers;for(e=0;e<h.length;e++){if(g=h[e].call(t,b,u.clone(),y.clone(),a.timezone,d),!0===g)return;if("object"==typeof g)return void c(g,d)}if(e=b.events)f.isFunction(e)?(t.pushLoading(),e.call(t,u.clone(),y.clone(),a.timezone,function(a){d(a);t.popLoading()})):f.isArray(e)?d(e):d();else if(b.url){var m=b.success,k=b.error,l=b.complete;e=f.isFunction(b.data)?b.data():b.data;e=f.extend({},e||{});g=F(b.startParam,
a.startParam);var h=F(b.endParam,a.endParam),p=F(b.timezoneParam,a.timezoneParam);g&&(e[g]=u.format());h&&(e[h]=y.format());a.timezone&&"local"!=a.timezone&&(e[p]=a.timezone);t.pushLoading();f.ajax(f.extend({},zb,b,{data:e,success:function(a){a=a||[];var b=ba(m,this,arguments);f.isArray(b)&&(a=b);d(a)},error:function(){ba(k,this,arguments);d()},complete:function(){ba(l,this,arguments);t.popLoading()}}))}else d()}function d(a){var b,c=n.sourceNormalizers;if(f.isFunction(a)||f.isArray(a)?b={events:a}:
"string"==typeof a?b={url:a}:"object"==typeof a&&(b=f.extend({},a)),b){b.className?"string"==typeof b.className&&(b.className=b.className.split(/\s+/)):b.className=[];f.isArray(b.events)&&(b.origArray=b.events,b.events=f.map(b.events,function(a){return l(a,b)}));for(a=0;a<c.length;a++)c[a].call(t,b);return b}}function e(a,b){return a&&b&&g(a)==g(b)}function g(a){return("object"==typeof a?a.origArray||a.googleCalendarId||a.url||a.events:null)||a}function h(a){var b={};return f.each(a,function(a,c){!/^_|^(id|allDay|start|end)$/.test(a)&&
void 0!==c&&/undefined|null|boolean|number|string/.test(f.type(c))&&(b[a]=c)}),b}function m(a){return f.isFunction(a)?f.grep(D,a):null!=a?(a+="",f.grep(D,function(b){return b._id==a})):D}function l(b,c){var d,e,g,h={};if(a.eventDataTransform&&(b=a.eventDataTransform(b)),c&&c.eventDataTransform&&(b=c.eventDataTransform(b)),f.extend(h,b),c&&(h.source=c),h._id=b._id||(void 0===b.id?"_fc"+Ab++:b.id+""),b.className?"string"==typeof b.className?h.className=b.className.split(/\s+/):h.className=b.className:
h.className=[],d=b.start||b.date,e=b.end,Ka(d)&&(d=q.duration(d)),Ka(e)&&(e=q.duration(e)),b.dow||q.isDuration(d)||q.isDuration(e))h.start=d?q.duration(d):null,h.end=e?q.duration(e):null,h._recurring=!0;else{if(d&&(d=t.moment(d),!d.isValid()))return!1;e&&(e=t.moment(e),e.isValid()||(e=null));g=b.allDay;void 0===g&&(g=F(c?c.allDayDefault:void 0,a.allDayDefault));h.start=d;h.end=e;h.allDay=g;p(h);da(h)}return h}function p(b){k(b);b.end&&!b.end.isAfter(b.start)&&(b.end=null);b.end||(a.forceEventDuration?
b.end=t.getDefaultEventEnd(b.allDay,b.start):b.end=null)}function k(a){null==a.allDay&&(a.allDay=!(a.start.hasTime()||a.end&&a.end.hasTime()));a.allDay?(a.start.stripTime(),a.end&&a.end.stripTime()):(a.start.hasTime()||(a.start=t.applyTimezone(a.start.time(0))),a.end&&!a.end.hasTime()&&(a.end=t.applyTimezone(a.end.time(0))))}function r(a,b,c){var d,e,g,h,m,k,l=[];if(b=b||u,c=c||y,a)if(a._recurring){if(e=a.dow)for(d={},g=0;g<e.length;g++)d[e[g]]=!0;for(b=b.clone().stripTime();b.isBefore(c);){if(!d||
d[b.day()])h=a.start,m=a.end,e=b.clone(),k=null,h&&(e=e.time(h)),m&&(k=b.clone().time(m)),g=f.extend({},a),h=!h&&!m,m=g,m.start=e,m.end=k,m.allDay=h,p(m),da(m),l.push(g);b.add(1,"days")}}else l.push(a);return l}function za(a,b,c){function d(a,e){return c?Ja(a,e,c):b.allDay?q.duration({days:a.clone().stripTime().diff(e.clone().stripTime(),"days")}):Ia(a,e)}var e,g,h,k,l,n,r={};return b=b||{},b.start||(b.start=a.start.clone()),void 0===b.end&&(b.end=a.end?a.end.clone():null),null==b.allDay&&(b.allDay=
a.allDay),p(b),e={start:a._start.clone(),end:a._end?a._end.clone():t.getDefaultEventEnd(a._allDay,a._start),allDay:b.allDay},p(e),g=null!==a._end&&null===b.end,h=d(b.start,e.start),b.end?(k=d(b.end,e.end),l=k.subtract(h)):l=null,f.each(b,function(a,b){!/^_|^(id|allDay|start|end)$/.test(a)&&void 0!==b&&(r[a]=b)}),n=M(m(a._id),g,b.allDay,h,l,r),{dateDelta:h,durationDelta:l,undo:n}}function M(a,b,c,d,e,g){var h=t.getIsAmbigTimezone(),m=[];return d&&!d.valueOf()&&(d=null),e&&!e.valueOf()&&(e=null),f.each(a,
function(a,k){var l,G;l={start:k.start.clone(),end:k.end?k.end.clone():null,allDay:k.allDay};f.each(g,function(a){l[a]=k[a]});G={start:k._start,end:k._end,allDay:c};p(G);b?G.end=null:e&&!G.end&&(G.end=t.getDefaultEventEnd(G.allDay,G.start));d&&(G.start.add(d),G.end&&G.end.add(d));e&&G.end.add(e);h&&!G.allDay&&(d||e)&&(G.start.stripZone(),G.end&&G.end.stripZone());f.extend(k,g,G);da(k);m.push(function(){f.extend(k,l);da(k)})}),function(){for(var a=0;a<m.length;a++)m[a]()}}function V(b){var c,d=a.businessHours,
e={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},g=t.getView();return d&&(c=f.extend({},e,"object"==typeof d?d:{})),c?(b&&(c.start=null,c.end=null),r(l(c),g.start,g.end)):[]}function w(b,c){var d=c.source||{},e=F(c.constraint,d.constraint,a.eventConstraint),d=F(c.overlap,d.overlap,a.eventOverlap);return v(b,e,d,c)}function B(b){return v(b,a.selectConstraint,a.selectOverlap)}function v(a,b,c,d){var e,g,h;if(null!=b){e="businessHours"===b?V():"object"==
typeof b?r(l(b)):m(b);g=!1;for(b=0;b<e.length;b++){var f=e[b],k=a,p=f.start.clone().stripZone(),f=t.getEventEnd(f).stripZone();if(k.start>=p&&k.end<=f){g=!0;break}}if(!g)return!1}e=t.getPeerEvents(a,d);for(b=0;b<e.length;b++)if(f=g=e[b],k=a,p=f.start.clone().stripZone(),f=t.getEventEnd(f).stripZone(),k.start<f&&k.end>p&&(!1===c||"function"==typeof c&&!c(g,d)||d&&((h=F(g.overlap,(g.source||{}).overlap),!1===h)||"function"==typeof h&&!h(d,g))))return!1;return!0}var t=this;t.isFetchNeeded=function(a,
b){return!u||u>a||b>y};t.fetchEvents=function(a,c){u=a;y=c;D=[];var d=++C,e=A.length;E=e;for(var g=0;e>g;g++)b(A[g],d)};t.addEventSource=function(a){(a=d(a))&&(A.push(a),E++,b(a,C))};t.removeEventSource=function(a){A=f.grep(A,function(b){return!e(b,a)});D=f.grep(D,function(b){return!e(b.source,a)});x(D)};t.updateEvent=function(a){a.start=t.moment(a.start);a.end?a.end=t.moment(a.end):a.end=null;za(a,h(a));x(D)};t.renderEvent=function(a,b){var c,d,e;if(c=l(a)){c=r(c);for(d=0;d<c.length;d++)e=c[d],e.source||
(b&&(z.events.push(e),e.source=z),D.push(e));return x(D),c}return[]};t.removeEvents=function(a){var b,c;null==a?a=function(){return!0}:f.isFunction(a)||(b=a+"",a=function(a){return a._id==b});D=f.grep(D,a,!0);for(c=0;c<A.length;c++)f.isArray(A[c].events)&&(A[c].events=f.grep(A[c].events,a,!0));x(D)};t.clientEvents=m;t.mutateEvent=za;t.normalizeEventDates=p;t.normalizeEventTimes=k;var u,y,x=t.reportEvents,z={events:[]},A=[z],C=0,E=0,D=[];f.each((a.events?[a.events]:[]).concat(a.eventSources||[]),function(a,
b){var c=d(b);c&&A.push(c)});t.getBusinessHoursEvents=V;t.isEventSpanAllowed=w;t.isExternalSpanAllowed=function(a,b,c){var d,e;return c&&(d=f.extend({},c,b),e=r(l(d))[0]),e?w(a,e):B(a)};t.isSelectionSpanAllowed=B;t.getEventCache=function(){return D}}function da(a){a._allDay=a.allDay;a._start=a.start.clone();a._end=a.end?a.end.clone():null}var n=f.fullCalendar={version:"2.7.1",internalApiVersion:3},L=n.views={};n.isTouch="ontouchstart"in document;f.fn.fullCalendar=function(a){var b=Array.prototype.slice.call(arguments,
1),c=this;return this.each(function(d,e){var g,h=f(e),m=h.data("fullCalendar");"string"==typeof a?m&&f.isFunction(m[a])&&(g=m[a].apply(m,b),d||(c=g),"destroy"===a&&h.removeData("fullCalendar")):m||(m=new z(h,a),h.data("fullCalendar",m),m.render())}),c};var R=["header","buttonText","buttonIcons","themeButtonIcons"];n.intersectRanges=la;n.applyAll=ba;n.debounce=pa;n.isInt=J;n.htmlEscape=x;n.cssToStr=ca;n.proxy=U;n.capitaliseFirstLetter=function(a){return a.charAt(0).toUpperCase()+a.slice(1)};n.getOuterRect=
ia;n.getClientRect=Ca;n.getContentRect=function(a,b){var c=a.offset(),d=c.left+(parseFloat(a.css("border-left-width"))||0)+(parseFloat(a.css("padding-left"))||0)-(b?b.left:0),c=c.top+(parseFloat(a.css("border-top-width"))||0)+(parseFloat(a.css("padding-top"))||0)-(b?b.top:0);return{left:d,right:d+a.width(),top:c,bottom:c+a.height()}};n.getScrollbarWidths=ja;var ka=null;n.preventDefault=Y;n.intersectRects=Da;n.parseFieldSpecs=Ea;n.compareByFieldSpecs=Fa;n.compareByFieldSpec=Ga;n.flexibleCompare=Ha;
n.computeIntervalUnit=ma;n.divideRangeByDuration=function(a,b,c){var d;return N(c)?(b-a)/c:(d=c.asMonths(),1<=Math.abs(d)&&J(d)?b.diff(a,"months",!0)/d:b.diff(a,"days",!0)/c.asDays())};n.divideDurationByDuration=oa;n.multiplyDuration=function(a,b){var c;return N(a)?q.duration(a*b):(c=a.asMonths(),1<=Math.abs(c)&&J(c)?q.duration({months:c*b}):q.duration({days:a.asDays()*b}))};n.durationHasTime=N;var bb="sun mon tue wed thu fri sat".split(" "),na="year month week day hour minute second millisecond".split(" ");
n.log=function(){var a=window.console;return a&&a.log?a.log.apply(a,arguments):void 0};n.warn=function(){var a=window.console;return a&&a.warn?a.warn.apply(a,arguments):n.log.apply(n,arguments)};var cb,ua,db,La={}.hasOwnProperty,nb=/^\s*\d{4}-\d\d$/,ob=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,w=q.fn,u=f.extend({},w);n.moment=function(){return qa(arguments)};n.moment.utc=function(){var a=qa(arguments,!0);return a.hasTime()&&a.utc(),a};n.moment.parseZone=
function(){return qa(arguments,!0,!0)};w.clone=function(){var a=u.clone.apply(this,arguments);return Ma(this,a),this._fullCalendar&&(a._fullCalendar=!0),a};w.week=w.weeks=function(a){var b=(this._locale||this._lang)._fullCalendar_weekCalc;return null==a&&"function"==typeof b?b(this):"ISO"===b?u.isoWeek.apply(this,arguments):u.week.apply(this,arguments)};w.time=function(a){if(!this._fullCalendar)return u.time.apply(this,arguments);if(null==a)return q.duration({hours:this.hours(),minutes:this.minutes(),
seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1;q.isDuration(a)||q.isMoment(a)||(a=q.duration(a));var b=0;return q.isDuration(a)&&(b=24*Math.floor(a.asDays())),this.hours(b+a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds())};w.stripTime=function(){var a;return this._ambigTime||(a=this.toArray(),this.utc(),ua(this,a.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this};w.hasTime=function(){return!this._ambigTime};w.stripZone=function(){var a,
b;return this._ambigZone||(a=this.toArray(),b=this._ambigTime,this.utc(),ua(this,a),this._ambigTime=b||!1,this._ambigZone=!0),this};w.hasZone=function(){return!this._ambigZone};w.local=function(){var a=this.toArray(),b=this._ambigZone;return u.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,b&&db(this,a),this};w.utc=function(){return u.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this};f.each(["zone","utcOffset"],function(a,b){u[b]&&(w[b]=function(a){return null!=
a&&(this._ambigTime=!1,this._ambigZone=!1),u[b].apply(this,arguments)})});w.format=function(){return this._fullCalendar&&arguments[0]?Oa(this,Ra(arguments[0])):this._ambigTime?K(this,"YYYY-MM-DD"):this._ambigZone?K(this,"YYYY-MM-DD[T]HH:mm:ss"):u.format.apply(this,arguments)};w.toISOString=function(){return this._ambigTime?K(this,"YYYY-MM-DD"):this._ambigZone?K(this,"YYYY-MM-DD[T]HH:mm:ss"):u.toISOString.apply(this,arguments)};w.isWithin=function(a,b){var c=ra([this,a,b]);return c[0]>=c[1]&&c[0]<
c[2]};w.isSame=function(a,b){var c;return this._fullCalendar?b?(c=ra([this,a],!0),u.isSame.call(c[0],c[1],b)):(a=n.moment.parseZone(a),u.isSame.call(this,a)&&!!this._ambigTime===!!a._ambigTime&&!!this._ambigZone===!!a._ambigZone):u.isSame.apply(this,arguments)};f.each(["isBefore","isAfter"],function(a,b){w[b]=function(a,d){var e;return this._fullCalendar?(e=ra([this,a]),u[b].call(e[0],e[1],d)):u[b].apply(this,arguments)}});ua=(cb="_d"in q()&&"updateOffset"in q)?function(a,b){a._d.setTime(Date.UTC.apply(Date,
b));q.updateOffset(a,!1)}:Na;db=cb?function(a,b){a._d.setTime(+new Date(b[0]||0,b[1]||0,b[2]||0,b[3]||0,b[4]||0,b[5]||0,b[6]||0));q.updateOffset(a,!1)}:Na;var Pa={t:function(a){return K(a,"a").charAt(0)},T:function(a){return K(a,"A").charAt(0)}};n.formatRange=Qa;var pb={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},ta={};n.Class=C;C.extend=function(){var a,b,c=arguments.length;for(a=0;c>a;a++)b=arguments[a],c-1>a&&aa(b,
this.prototype);return qb(this,b||{})};C.mixin=function(a){aa(a,this.prototype)};var eb=n.EmitterMixin={callbackHash:null,on:function(a,b){return this.loopCallbacks(a,"add",[b]),this},off:function(a,b){return this.loopCallbacks(a,"remove",[b]),this},trigger:function(a){var b=Array.prototype.slice.call(arguments,1);return this.triggerWith(a,this,b),this},triggerWith:function(a,b,c){return this.loopCallbacks(a,"fireWith",[b,c]),this},loopCallbacks:function(a,b,c){var d,e,g=a.split(".");for(a=0;a<g.length;a++)(d=
g[a])&&(e=this.ensureCallbackObj((a?".":"")+d),e[b].apply(e,c))},ensureCallbackObj:function(a){return this.callbackHash||(this.callbackHash={}),this.callbackHash[a]||(this.callbackHash[a]=f.Callbacks()),this.callbackHash[a]}},W=n.ListenerMixin=function(){var a=0;return{listenerId:null,listenTo:function(a,c,d){if("object"==typeof c)for(var e in c)c.hasOwnProperty(e)&&this.listenTo(a,e,c[e]);else"string"==typeof c&&a.on(c+"."+this.getListenerNamespace(),f.proxy(d,this))},stopListeningTo:function(a,
c){a.off((c||"")+"."+this.getListenerNamespace())},getListenerNamespace:function(){return null==this.listenerId&&(this.listenerId=a++),"_listener"+this.listenerId}}}(),Bb=C.extend(W,{isHidden:!0,options:null,el:null,margin:10,constructor:function(a){this.options=a||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var a=
this,b=this.options;this.el=f('<div class="fc-popover"/>').addClass(b.className||"").css({top:0,left:0}).append(b.content).appendTo(b.parentEl);this.el.on("click",".fc-close",function(){a.hide()});b.autoHide&&this.listenTo(f(document),"mousedown",this.documentMousedown)},documentMousedown:function(a){this.el&&!f(a.target).closest(this.el).length&&this.hide()},removeElement:function(){this.hide();this.el&&(this.el.remove(),this.el=null);this.stopListeningTo(f(document),"mousedown")},position:function(){var a,
b,c,d,e,g=this.options,h=this.el.offsetParent().offset(),m=this.el.outerWidth(),l=this.el.outerHeight(),p=f(window),k=ha(this.el);d=g.top||0;e=void 0!==g.left?g.left:void 0!==g.right?g.right-m:0;k.is(window)||k.is(document)?(k=p,a=0,b=0):(c=k.offset(),a=c.top,b=c.left);a+=p.scrollTop();b+=p.scrollLeft();!1!==g.viewportConstrain&&(d=Math.min(d,a+k.outerHeight()-l-this.margin),d=Math.max(d,a+this.margin),e=Math.min(e,b+k.outerWidth()-m-this.margin),e=Math.max(e,b+this.margin));this.el.css({top:d-h.top,
left:e-h.left})},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))}}),ea=n.CoordCache=C.extend({els:null,forcedOffsetParentEl:null,origin:null,boundingRect:null,isHorizontal:!1,isVertical:!1,lefts:null,rights:null,tops:null,bottoms:null,constructor:function(a){this.els=f(a.els);this.isHorizontal=a.isHorizontal;this.isVertical=a.isVertical;this.forcedOffsetParentEl=a.offsetParent?f(a.offsetParent):null},build:function(){this.origin=(this.forcedOffsetParentEl||
this.els.eq(0).offsetParent()).offset();this.boundingRect=this.queryBoundingRect();this.isHorizontal&&this.buildElHorizontals();this.isVertical&&this.buildElVerticals()},clear:function(){this.bottoms=this.tops=this.rights=this.lefts=this.boundingRect=this.origin=null},ensureBuilt:function(){this.origin||this.build()},queryBoundingRect:function(){var a=ha(this.els.eq(0));return a.is(document)?void 0:Ca(a)},buildElHorizontals:function(){var a=[],b=[];this.els.each(function(c,d){var e=f(d),g=e.offset().left,
e=e.outerWidth();a.push(g);b.push(g+e)});this.lefts=a;this.rights=b},buildElVerticals:function(){var a=[],b=[];this.els.each(function(c,d){var e=f(d),g=e.offset().top,e=e.outerHeight();a.push(g);b.push(g+e)});this.tops=a;this.bottoms=b},getHorizontalIndex:function(a){this.ensureBuilt();var b;b=this.boundingRect;var c=this.lefts,d=this.rights,e=c.length;if(!b||a>=b.left&&a<b.right)for(b=0;e>b;b++)if(a>=c[b]&&a<d[b])return b},getVerticalIndex:function(a){this.ensureBuilt();var b;b=this.boundingRect;
var c=this.tops,d=this.bottoms,e=c.length;if(!b||a>=b.top&&a<b.bottom)for(b=0;e>b;b++)if(a>=c[b]&&a<d[b])return b},getLeftOffset:function(a){return this.ensureBuilt(),this.lefts[a]},getLeftPosition:function(a){return this.ensureBuilt(),this.lefts[a]-this.origin.left},getRightOffset:function(a){return this.ensureBuilt(),this.rights[a]},getRightPosition:function(a){return this.ensureBuilt(),this.rights[a]-this.origin.left},getWidth:function(a){return this.ensureBuilt(),this.rights[a]-this.lefts[a]},
getTopOffset:function(a){return this.ensureBuilt(),this.tops[a]},getTopPosition:function(a){return this.ensureBuilt(),this.tops[a]-this.origin.top},getBottomOffset:function(a){return this.ensureBuilt(),this.bottoms[a]},getBottomPosition:function(a){return this.ensureBuilt(),this.bottoms[a]-this.origin.top},getHeight:function(a){return this.ensureBuilt(),this.bottoms[a]-this.tops[a]}}),E=n.DragListener=C.extend(W,{options:null,subjectEl:null,subjectHref:null,originX:null,originY:null,scrollEl:null,
isInteracting:!1,isDistanceSurpassed:!1,isDelayEnded:!1,isDragging:!1,isTouch:!1,delay:null,delayTimeoutId:null,minDistance:null,constructor:function(a){this.options=a||{}},startInteraction:function(a,b){var c=/^touch/.test(a.type);if("mousedown"===a.type){if(1!=a.which||a.ctrlKey)return;a.preventDefault()}this.isInteracting||(b=b||{},this.delay=F(b.delay,this.options.delay,0),this.minDistance=F(b.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,this.isInteracting=!0,this.isTouch=
c,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=I(a),this.originY=H(a),this.scrollEl=ha(f(a.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(a),this.startDelay(a),this.minDistance||this.handleDistanceSurpassed(a))},handleInteractionStart:function(a){this.trigger("interactionStart",a)},endInteraction:function(a){this.isInteracting&&(this.endDrag(a),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),
this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(a))},handleInteractionEnd:function(a){this.trigger("interactionEnd",a)},bindHandlers:function(){var a=this,b=1;this.isTouch?(this.listenTo(f(document),{touchmove:this.handleTouchMove,touchend:this.endInteraction,touchcancel:this.endInteraction,touchstart:function(c){b?b--:a.endInteraction(c)}}),this.scrollEl&&this.listenTo(this.scrollEl,"scroll",this.handleTouchScroll)):this.listenTo(f(document),{mousemove:this.handleMouseMove,
mouseup:this.endInteraction});this.listenTo(f(document),{selectstart:Y,contextmenu:Y})},unbindHandlers:function(){this.stopListeningTo(f(document));this.scrollEl&&this.stopListeningTo(this.scrollEl)},startDrag:function(a,b){this.startInteraction(a,b);this.isDragging||(this.isDragging=!0,this.handleDragStart(a))},handleDragStart:function(a){this.trigger("dragStart",a);this.initHrefHack()},handleMove:function(a){var b,c=I(a)-this.originX,d=H(a)-this.originY,e=this.minDistance;this.isDistanceSurpassed||
(b=c*c+d*d,b>=e*e&&this.handleDistanceSurpassed(a));this.isDragging&&this.handleDrag(c,d,a)},handleDrag:function(a,b,c){this.trigger("drag",a,b,c);this.updateAutoScroll(c)},endDrag:function(a){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(a))},handleDragEnd:function(a){this.trigger("dragEnd",a);this.destroyHrefHack()},startDelay:function(a){var b=this;this.delay?this.delayTimeoutId=setTimeout(function(){b.handleDelayEnd(a)},this.delay):this.handleDelayEnd(a)},handleDelayEnd:function(a){this.isDelayEnded=
!0;this.isDistanceSurpassed&&this.startDrag(a)},handleDistanceSurpassed:function(a){this.isDistanceSurpassed=!0;this.isDelayEnded&&this.startDrag(a)},handleTouchMove:function(a){this.isDragging&&a.preventDefault();this.handleMove(a)},handleMouseMove:function(a){this.handleMove(a)},handleTouchScroll:function(a){this.isDragging||this.endInteraction(a)},initHrefHack:function(){var a=this.subjectEl;(this.subjectHref=a?a.attr("href"):null)&&a.removeAttr("href")},destroyHrefHack:function(){var a=this.subjectEl,
b=this.subjectHref;setTimeout(function(){b&&a.attr("href",b)},0)},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1));this["_"+a]&&this["_"+a].apply(this,Array.prototype.slice.call(arguments,1))}});E.mixin({isAutoScroll:!1,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,initAutoScroll:function(){var a=this.scrollEl;(this.isAutoScroll=this.options.scroll&&a&&!a.is(window)&&
!a.is(document))&&this.listenTo(a,"scroll",pa(this.handleDebouncedScroll,100))},destroyAutoScroll:function(){this.endAutoScroll();this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},computeScrollBounds:function(){this.isAutoScroll&&(this.scrollBounds=ia(this.scrollEl))},updateAutoScroll:function(a){var b,c,d,e,g=this.scrollSensitivity,h=this.scrollBounds,f=0,l=0;h&&(b=(g-(H(a)-h.top))/g,c=(g-(h.bottom-H(a)))/g,d=(g-(I(a)-h.left))/g,e=(g-(h.right-I(a)))/g,0<=b&&1>=b?f=b*this.scrollSpeed*
-1:0<=c&&1>=c&&(f=c*this.scrollSpeed),0<=d&&1>=d?l=d*this.scrollSpeed*-1:0<=e&&1>=e&&(l=e*this.scrollSpeed));this.setScrollVel(f,l)},setScrollVel:function(a,b){this.scrollTopVel=a;this.scrollLeftVel=b;this.constrainScrollVel();!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(U(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var a=this.scrollEl;0>this.scrollTopVel?0>=a.scrollTop()&&(this.scrollTopVel=0):0<this.scrollTopVel&&
a.scrollTop()+a[0].clientHeight>=a[0].scrollHeight&&(this.scrollTopVel=0);0>this.scrollLeftVel?0>=a.scrollLeft()&&(this.scrollLeftVel=0):0<this.scrollLeftVel&&a.scrollLeft()+a[0].clientWidth>=a[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var a=this.scrollEl,b=this.scrollIntervalMs/1E3;this.scrollTopVel&&a.scrollTop(a.scrollTop()+this.scrollTopVel*b);this.scrollLeftVel&&a.scrollLeft(a.scrollLeft()+this.scrollLeftVel*b);this.constrainScrollVel();this.scrollTopVel||this.scrollLeftVel||
this.endAutoScroll()},endAutoScroll:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},handleDebouncedScroll:function(){this.scrollIntervalId||this.handleScrollEnd()},handleScrollEnd:function(){}});var fa=E.extend({component:null,origHit:null,hit:null,coordAdjust:null,constructor:function(a,b){E.call(this,b);this.component=a},handleInteractionStart:function(a){var b,c,d,e=this.subjectEl;this.computeCoords();a?(c={left:I(a),top:H(a)},
d=c,e&&(b=ia(e),d={left:Math.min(Math.max(d.left,b.left),b.right),top:Math.min(Math.max(d.top,b.top),b.bottom)}),this.origHit=this.queryHit(d.left,d.top),e&&this.options.subjectCenter&&(this.origHit&&(b=Da(this.origHit,b)||b),d={left:(b.left+b.right)/2,top:(b.top+b.bottom)/2}),this.coordAdjust={left:d.left-c.left,top:d.top-c.top}):(this.origHit=null,this.coordAdjust=null);E.prototype.handleInteractionStart.apply(this,arguments)},computeCoords:function(){this.component.prepareHits();this.computeScrollBounds()},
handleDragStart:function(a){var b;E.prototype.handleDragStart.apply(this,arguments);(b=this.queryHit(I(a),H(a)))&&this.handleHitOver(b)},handleDrag:function(a,b,c){var d;E.prototype.handleDrag.apply(this,arguments);d=this.queryHit(I(c),H(c));Ua(d,this.hit)||(this.hit&&this.handleHitOut(),d&&this.handleHitOver(d))},handleDragEnd:function(){this.handleHitDone();E.prototype.handleDragEnd.apply(this,arguments)},handleHitOver:function(a){var b=Ua(a,this.origHit);this.hit=a;this.trigger("hitOver",this.hit,
b,this.origHit)},handleHitOut:function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},handleHitDone:function(){this.hit&&this.trigger("hitDone",this.hit)},handleInteractionEnd:function(){E.prototype.handleInteractionEnd.apply(this,arguments);this.hit=this.origHit=null;this.component.releaseHits()},handleScrollEnd:function(){E.prototype.handleScrollEnd.apply(this,arguments);this.computeCoords()},queryHit:function(a,b){return this.coordAdjust&&(a+=this.coordAdjust.left,
b+=this.coordAdjust.top),this.component.queryHit(a,b)}}),Cb=C.extend(W,{options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,y0:null,x0:null,topDelta:null,leftDelta:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(a,b){this.options=b=b||{};this.sourceEl=a;this.parentEl=b.parentEl?f(b.parentEl):a.parent()},start:function(a){this.isFollowing||(this.isFollowing=!0,this.y0=H(a),this.x0=I(a),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),/^touch/.test(a.type)?
this.listenTo(f(document),"touchmove",this.handleMove):this.listenTo(f(document),"mousemove",this.handleMove))},stop:function(a,b){function c(){this.isAnimating=!1;d.removeElement();this.top0=this.left0=null;b&&b()}var d=this,e=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(f(document)),a&&e&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:e,complete:c})):c())},getEl:function(){var a=this.el;
return a||(this.sourceEl.width(),a=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}),a.addClass("fc-unselectable"),a.appendTo(this.parentEl)),a},removeElement:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var a,b;this.getEl();
null===this.top0&&(this.sourceEl.width(),a=this.sourceEl.offset(),b=this.el.offsetParent().offset(),this.top0=a.top-b.top,this.left0=a.left-b.left);this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},handleMove:function(a){this.topDelta=H(a)-this.y0;this.leftDelta=I(a)-this.x0;this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),
P=n.Grid=C.extend(W,{view:null,isRTL:null,start:null,end:null,el:null,elsByFill:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,minResizeDuration:null,largeUnit:null,dayDragListener:null,segDragListener:null,segResizeListener:null,externalDragListener:null,constructor:function(a){this.view=a;this.isRTL=a.opt("isRTL");this.elsByFill={}},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},
setRange:function(a){this.start=a.start.clone();this.end=a.end.clone();this.rangeUpdated();this.processRangeOptions()},rangeUpdated:function(){},processRangeOptions:function(){var a,b;b=this.view;this.eventTimeFormat=b.opt("eventTimeFormat")||b.opt("timeFormat")||this.computeEventTimeFormat();a=b.opt("displayEventTime");null==a&&(a=this.computeDisplayEventTime());b=b.opt("displayEventEnd");null==b&&(b=this.computeDisplayEventEnd());this.displayEventTime=a;this.displayEventEnd=b},spanToSegs:function(a){},
diffDates:function(a,b){return this.largeUnit?Ja(a,b,this.largeUnit):Ia(a,b)},prepareHits:function(){},releaseHits:function(){},queryHit:function(a,b){},getHitSpan:function(a){},getHitEl:function(a){},setElement:function(a){this.el=a;a.addClass("fc-unselectable").on("selectstart",Y);this.view.calendar.isTouch?this.bindDayHandler("touchstart",this.dayTouchStart):this.bindDayHandler("mousedown",this.dayMousedown);this.bindSegHandlers();this.bindGlobalHandlers()},bindDayHandler:function(a,b){var c=this;
this.el.on(a,function(a){return f(a.target).is(".fc-event-container *, .fc-more")||f(a.target).closest(".fc-popover").length?void 0:b.call(c,a)})},removeElement:function(){this.unbindGlobalHandlers();this.clearDragListeners();this.el.remove()},renderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},bindGlobalHandlers:function(){this.listenTo(f(document),{dragstart:this.externalDragStart,sortstart:this.externalDragStart})},unbindGlobalHandlers:function(){this.stopListeningTo(f(document))},
dayMousedown:function(a){this.clearDragListeners();this.buildDayDragListener().startInteraction(a,{})},dayTouchStart:function(a){this.clearDragListeners();this.buildDayDragListener().startInteraction(a,{delay:this.view.opt("longPressDelay")})},buildDayDragListener:function(){var a,b,c=this,d=this.view,e=d.opt("selectable"),g=this.dayDragListener=new fa(this,{scroll:d.opt("dragScroll"),interactionStart:function(){a=g.origHit},dragStart:function(){d.unselect()},hitOver:function(d,g,f){f&&(g||(a=null),
e&&(b=c.computeSelection(c.getHitSpan(f),c.getHitSpan(d)),b?c.renderSelection(b):!1===b&&X()))},hitOut:function(){b=a=null;c.unrenderSelection();T()},interactionEnd:function(e){a&&d.triggerDayClick(c.getHitSpan(a),c.getHitEl(a),e);b&&d.reportSelection(b,e);T();c.dayDragListener=null}});return g},clearDragListeners:function(){this.dayDragListener&&this.dayDragListener.endInteraction();this.segDragListener&&this.segDragListener.endInteraction();this.segResizeListener&&this.segResizeListener.endInteraction();
this.externalDragListener&&this.externalDragListener.endInteraction()},renderEventLocationHelper:function(a,b){var c=this.fabricateHelperEvent(a,b);return this.renderHelper(c,b)},fabricateHelperEvent:function(a,b){var c=b?Z(b.event):{};return c.start=a.start.clone(),c.end=a.end?a.end.clone():null,c.allDay=null,this.view.calendar.normalizeEventDates(c),c.className=(c.className||[]).concat("fc-helper"),b||(c.editable=!1),c},renderHelper:function(a,b){},unrenderHelper:function(){},renderSelection:function(a){this.renderHighlight(a)},
unrenderSelection:function(){this.unrenderHighlight()},computeSelection:function(a,b){var c=this.computeSelectionSpan(a,b);return c&&!this.view.calendar.isSelectionSpanAllowed(c)?!1:c},computeSelectionSpan:function(a,b){var c=[a.start,a.end,b.start,b.end];return c.sort(mb),{start:c[0].clone(),end:c[3].clone()}},renderHighlight:function(a){this.renderFill("highlight",this.spanToSegs(a))},unrenderHighlight:function(){this.unrenderFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},
renderBusinessHours:function(){},unrenderBusinessHours:function(){},getNowIndicatorUnit:function(){},renderNowIndicator:function(a){},unrenderNowIndicator:function(){},renderFill:function(a,b){},unrenderFill:function(a){var b=this.elsByFill[a];b&&(b.remove(),delete this.elsByFill[a])},renderFillSegEls:function(a,b){var c,d=this,e=this[a+"SegEl"],g="",h=[];if(b.length){for(c=0;c<b.length;c++)g+=this.fillSegHtml(a,b[c]);f(g).each(function(a,c){var g=b[a],k=f(c);e&&(k=e.call(d,g,k));k&&(k=f(k),k.is(d.fillSegTag)&&
(g.el=k,h.push(g)))})}return h},fillSegTag:"div",fillSegHtml:function(a,b){var c=this[a+"SegClasses"],d=this[a+"SegCss"],c=c?c.call(this,b):[],d=ca(d?d.call(this,b):{});return"<"+this.fillSegTag+(c.length?' class="'+c.join(" ")+'"':"")+(d?' style="'+d+'"':"")+" />"},getDayClasses:function(a){var b=this.view,c=b.calendar.getNow(),d=["fc-"+bb[a.day()]];return 1==b.intervalDuration.as("months")&&a.month()!=b.intervalStart.month()&&d.push("fc-other-month"),a.isSame(c,"day")?d.push("fc-today",b.highlightStateClass):
c>a?d.push("fc-past"):d.push("fc-future"),d}});P.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(a){var b,c=[],d=[];for(b=0;b<a.length;b++)(Wa(a[b])?c:d).push(a[b]);this.segs=[].concat(this.renderBgEvents(c),this.renderFgEvents(d))},renderBgEvents:function(a){a=this.eventsToSegs(a);return this.renderBgSegs(a)||a},renderFgEvents:function(a){a=this.eventsToSegs(a);return this.renderFgSegs(a)||a},unrenderEvents:function(){this.handleSegMouseout();
this.clearDragListeners();this.unrenderFgSegs();this.unrenderBgSegs();this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(a){},unrenderFgSegs:function(){},renderFgSegEls:function(a,b){var c,d=this.view,e="",g=[];if(a.length){for(c=0;c<a.length;c++)e+=this.fgSegHtml(a[c],b);f(e).each(function(b,c){var e=a[b],p=d.resolveEventEl(e.event,f(c));p&&(p.data("fc-seg",e),e.el=p,g.push(e))})}return g},fgSegHtml:function(a,b){},renderBgSegs:function(a){return this.renderFill("bgEvent",
a)},unrenderBgSegs:function(){this.unrenderFill("bgEvent")},bgEventSegEl:function(a,b){return this.view.resolveEventEl(a.event,b)},bgEventSegClasses:function(a){a=a.event;return["fc-bgevent"].concat(a.className,(a.source||{}).className||[])},bgEventSegCss:function(a){return{"background-color":this.getSegSkinCss(a)["background-color"]}},businessHoursSegClasses:function(a){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){this.view.calendar.isTouch?this.bindSegHandler("touchstart",this.handleSegTouchStart):
(this.bindSegHandler("mouseenter",this.handleSegMouseover),this.bindSegHandler("mouseleave",this.handleSegMouseout),this.bindSegHandler("mousedown",this.handleSegMousedown));this.bindSegHandler("click",this.handleSegClick)},bindSegHandler:function(a,b){var c=this;this.el.on(a,".fc-event-container > *",function(a){var e=f(this).data("fc-seg");return!e||c.isDraggingSeg||c.isResizingSeg?void 0:b.call(c,e,a)})},handleSegClick:function(a,b){return this.view.trigger("eventClick",a.el[0],a.event,b)},handleSegMouseover:function(a,
b){this.mousedOverSeg||(this.mousedOverSeg=a,this.view.trigger("eventMouseover",a.el[0],a.event,b))},handleSegMouseout:function(a,b){b=b||{};this.mousedOverSeg&&(a=a||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",a.el[0],a.event,b))},handleSegTouchStart:function(a,b){var c,d=this.view,e=a.event,g=d.isEventSelected(e),h=d.isEventDraggable(e),f=d.isEventResizable(e),l=!1;g&&f&&(l=this.startSegResize(a,b));l||!h&&!f||(this.clearDragListeners(),c=h?this.buildSegDragListener(a):
new E,c._dragStart=function(){g||d.selectEvent(e)},c.startInteraction(b,{delay:g?0:this.view.opt("longPressDelay")}))},handleSegMousedown:function(a,b){!this.startSegResize(a,b,{distance:5})&&this.view.isEventDraggable(a.event)&&(this.clearDragListeners(),this.buildSegDragListener(a).startInteraction(b,{distance:5}))},startSegResize:function(a,b,c){return f(b.target).is(".fc-resizer")?(this.clearDragListeners(),this.buildSegResizeListener(a,f(b.target).is(".fc-start-resizer")).startInteraction(b,
c),!0):!1},buildSegDragListener:function(a){var b,c,d,e=this,g=this.view,h=g.calendar,f=a.el,l=a.event,p=this.segDragListener=new fa(g,{scroll:g.opt("dragScroll"),subjectEl:f,subjectCenter:!0,interactionStart:function(d){b=!1;c=new Cb(a.el,{additionalClass:"fc-dragging",parentEl:g.el,opacity:p.isTouch?null:g.opt("dragOpacity"),revertDuration:g.opt("dragRevertDuration"),zIndex:2});c.hide();c.start(d)},dragStart:function(c){b=!0;e.handleSegMouseout(a,c);e.segDragStart(a,c);g.hideEvent(l)},hitOver:function(b,
f,m){var n;a.hit&&(m=a.hit);(d=e.computeEventDrop(m.component.getHitSpan(m),b.component.getHitSpan(b),l))&&!h.isEventSpanAllowed(e.eventToSpan(d),l)&&(X(),d=null);d&&(n=g.renderDrag(d,a))?(n.addClass("fc-dragging"),p.isTouch||e.applyDragOpacity(n),c.hide()):c.show();f&&(d=null)},hitOut:function(){g.unrenderDrag();c.show();d=null},hitDone:function(){T()},interactionEnd:function(h){c.stop(!d,function(){b&&(g.unrenderDrag(),g.showEvent(l),e.segDragStop(a,h));d&&g.reportEventDrop(l,d,this.largeUnit,f,
h)});e.segDragListener=null}});return p},segDragStart:function(a,b){this.isDraggingSeg=!0;this.view.trigger("eventDragStart",a.el[0],a.event,b,{})},segDragStop:function(a,b){this.isDraggingSeg=!1;this.view.trigger("eventDragStop",a.el[0],a.event,b,{})},computeEventDrop:function(a,b,c){var d,e,g=this.view.calendar;a=a.start;b=b.start;return a.hasTime()===b.hasTime()?(d=this.diffDates(b,a),c.allDay&&N(d)?(e={start:c.start.clone(),end:g.getEventEnd(c),allDay:!1},g.normalizeEventTimes(e)):e={start:c.start.clone(),
end:c.end?c.end.clone():null,allDay:c.allDay},e.start.add(d),e.end&&e.end.add(d)):e={start:b.clone(),end:null,allDay:!b.hasTime()},e},applyDragOpacity:function(a){var b=this.view.opt("dragOpacity");null!=b&&a.each(function(a,d){d.style.opacity=b})},externalDragStart:function(a,b){var c,d,e=this.view;e.opt("droppable")&&(c=f((b?b.item:null)||a.target),d=e.opt("dropAccept"),(f.isFunction(d)?d.call(c[0],c):c.is(d))&&(this.isDraggingExternal||this.listenToExternalDrag(c,a,b)))},listenToExternalDrag:function(a,
b,c){var d,e=this,g=this.view.calendar,h=tb(a);(e.externalDragListener=new fa(this,{interactionStart:function(){e.isDraggingExternal=!0},hitOver:function(a){(d=e.computeExternalDrop(a.component.getHitSpan(a),h))&&!g.isExternalSpanAllowed(e.eventToSpan(d),d,h.eventProps)&&(X(),d=null);d&&e.renderDrag(d)},hitOut:function(){d=null},hitDone:function(){T();e.unrenderDrag()},interactionEnd:function(b){d&&e.view.reportExternalDrop(h,d,a,b,c);e.isDraggingExternal=!1;e.externalDragListener=null}})).startDrag(b)},
computeExternalDrop:function(a,b){var c={start:this.view.calendar.applyTimezone(a.start),end:null};return b.startTime&&!c.start.hasTime()&&c.start.time(b.startTime),b.duration&&(c.end=c.start.clone().add(b.duration)),c},renderDrag:function(a,b){},unrenderDrag:function(){},buildSegResizeListener:function(a,b){var c,d,e=this,g=this.view,h=g.calendar,f=a.el,l=a.event,p=h.getEventEnd(l);return this.segResizeListener=new fa(this,{scroll:g.opt("dragScroll"),subjectEl:f,interactionStart:function(){c=!1},
dragStart:function(b){c=!0;e.handleSegMouseout(a,b);e.segResizeStart(a,b)},hitOver:function(c,f,m){f=e.getHitSpan(m);c=e.getHitSpan(c);(d=b?e.computeEventStartResize(f,c,l):e.computeEventEndResize(f,c,l))&&(h.isEventSpanAllowed(e.eventToSpan(d),l)?d.start.isSame(l.start)&&d.end.isSame(p)&&(d=null):(X(),d=null));d&&(g.hideEvent(l),e.renderEventResize(d,a))},hitOut:function(){d=null},hitDone:function(){e.unrenderEventResize();g.showEvent(l);T()},interactionEnd:function(b){c&&e.segResizeStop(a,b);d&&
g.reportEventResize(l,d,this.largeUnit,f,b);e.segResizeListener=null}})},segResizeStart:function(a,b){this.isResizingSeg=!0;this.view.trigger("eventResizeStart",a.el[0],a.event,b,{})},segResizeStop:function(a,b){this.isResizingSeg=!1;this.view.trigger("eventResizeStop",a.el[0],a.event,b,{})},computeEventStartResize:function(a,b,c){return this.computeEventResize("start",a,b,c)},computeEventEndResize:function(a,b,c){return this.computeEventResize("end",a,b,c)},computeEventResize:function(a,b,c,d){var e,
g,h=this.view.calendar;b=this.diffDates(c[a],b[a]);return e={start:d.start.clone(),end:h.getEventEnd(d),allDay:d.allDay},e.allDay&&N(b)&&(e.allDay=!1,h.normalizeEventTimes(e)),e[a].add(b),e.start.isBefore(e.end)||(g=this.minResizeDuration||(d.allDay?h.defaultAllDayEventDuration:h.defaultTimedEventDuration),"start"==a?e.start=e.end.clone().subtract(g):e.end=e.start.clone().add(g)),e},renderEventResize:function(a,b){},unrenderEventResize:function(){},getEventTimeText:function(a,b,c){return null==b&&
(b=this.eventTimeFormat),null==c&&(c=this.displayEventEnd),this.displayEventTime&&a.start.hasTime()?c&&a.end?this.view.formatRange(a,b):a.start.format(b):""},getSegClasses:function(a,b,c){var d=this.view,e=a.event;a=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(e.className,e.source?e.source.className:[]);return b&&a.push("fc-draggable"),c&&a.push("fc-resizable"),d.isEventSelected(e)&&a.push("fc-selected"),a},getSegSkinCss:function(a){a=a.event;var b=this.view,
c=a.source||{},d=a.color,e=c.color,g=b.opt("eventColor");return{"background-color":a.backgroundColor||d||c.backgroundColor||e||b.opt("eventBackgroundColor")||g,"border-color":a.borderColor||d||c.borderColor||e||b.opt("eventBorderColor")||g,color:a.textColor||c.textColor||b.opt("eventTextColor")}},eventToSegs:function(a){return this.eventsToSegs([a])},eventToSpan:function(a){return this.eventToSpans(a)[0]},eventToSpans:function(a){var b=this.eventToRange(a);return this.eventRangeToSpans(b,a)},eventsToSegs:function(a,
b){var c=this,d=rb(a),e=[];return f.each(d,function(a,d){var f,l=[];for(f=0;f<d.length;f++)l.push(c.eventToRange(d[f]));if("inverse-background"===Xa(d[0]))for(l=c.invertRanges(l),f=0;f<l.length;f++)e.push.apply(e,c.eventRangeToSegs(l[f],d[0],b));else for(f=0;f<l.length;f++)e.push.apply(e,c.eventRangeToSegs(l[f],d[f],b))}),e},eventToRange:function(a){return{start:a.start.clone().stripZone(),end:(a.end?a.end.clone():this.view.calendar.getDefaultEventEnd(null!=a.allDay?a.allDay:!a.start.hasTime(),a.start)).stripZone()}},
eventRangeToSegs:function(a,b,c){var d=this.eventRangeToSpans(a,b),e=[];for(a=0;a<d.length;a++)e.push.apply(e,this.eventSpanToSegs(d[a],b,c));return e},eventRangeToSpans:function(a,b){return[f.extend({},a)]},eventSpanToSegs:function(a,b,c){var d,e=c?c(a):this.spanToSegs(a);for(c=0;c<e.length;c++)d=e[c],d.event=b,d.eventStartMS=+a.start,d.eventDurationMS=a.end-a.start;return e},invertRanges:function(a){var b,c,d=this.view;b=d.start.clone();var d=d.end.clone(),e=[],g=b;a.sort(sb);for(b=0;b<a.length;b++)c=
a[b],c.start>g&&e.push({start:g,end:c.start}),g=c.end;return d>g&&e.push({start:g,end:d}),e},sortEventSegs:function(a){a.sort(U(this,"compareEventSegs"))},compareEventSegs:function(a,b){return a.eventStartMS-b.eventStartMS||b.eventDurationMS-a.eventDurationMS||b.event.allDay-a.event.allDay||Fa(a.event,b.event,this.view.eventOrderSpecs)}});n.isBgEvent=Wa;n.dataAttrPrefix="";var fb=n.DayTableMixin={breakOnWeeks:!1,dayDates:null,dayIndices:null,daysPerRow:null,rowCnt:null,colCnt:null,colHeadFormat:null,
updateDayTable:function(){var a,b;a=this.view;b=this.start.clone();for(var c=-1,d=[],e=[];b.isBefore(this.end);)a.isHiddenDay(b)?d.push(c+.5):(c++,d.push(c),e.push(b.clone())),b.add(1,"days");if(this.breakOnWeeks){b=e[0].day();for(a=1;a<e.length&&e[a].day()!=b;a++);b=Math.ceil(e.length/a)}else b=1,a=e.length;this.dayDates=e;this.dayIndices=d;this.daysPerRow=a;this.rowCnt=b;this.updateDayTableCols()},updateDayTableCols:function(){this.colCnt=this.computeColCnt();this.colHeadFormat=this.view.opt("columnFormat")||
this.computeColHeadFormat()},computeColCnt:function(){return this.daysPerRow},getCellDate:function(a,b){return this.dayDates[this.getCellDayIndex(a,b)].clone()},getCellRange:function(a,b){var c=this.getCellDate(a,b),d=c.clone().add(1,"days");return{start:c,end:d}},getCellDayIndex:function(a,b){return a*this.daysPerRow+this.getColDayIndex(b)},getColDayIndex:function(a){return this.isRTL?this.colCnt-1-a:a},getDateDayIndex:function(a){var b=this.dayIndices;a=a.diff(this.start,"days");return 0>a?b[0]-
1:a>=b.length?b[b.length-1]+1:b[a]},computeColHeadFormat:function(){return 1<this.rowCnt||10<this.colCnt?"ddd":1<this.colCnt?this.view.opt("dayOfMonthFormat"):"dddd"},sliceRangeByRow:function(a){var b,c,d,e,g=this.daysPerRow;b=this.view.computeDayRange(a);a=this.getDateDayIndex(b.start);var f=this.getDateDayIndex(b.end.clone().subtract(1,"days")),m=[];for(b=0;b<this.rowCnt;b++)c=b*g,d=c+g-1,e=Math.max(a,c),d=Math.min(f,d),e=Math.ceil(e),d=Math.floor(d),d>=e&&m.push({row:b,firstRowDayIndex:e-c,lastRowDayIndex:d-
c,isStart:e===a,isEnd:d===f});return m},sliceRangeByDay:function(a){var b,c,d,e,g,f,m=this.daysPerRow;b=this.view.computeDayRange(a);a=this.getDateDayIndex(b.start);var l=this.getDateDayIndex(b.end.clone().subtract(1,"days")),p=[];for(b=0;b<this.rowCnt;b++)for(c=b*m,d=c+m-1,e=c;d>=e;e++)g=Math.max(a,e),f=Math.min(l,e),g=Math.ceil(g),f=Math.floor(f),f>=g&&p.push({row:b,firstRowDayIndex:g-c,lastRowDayIndex:f-c,isStart:g===a,isEnd:f===l});return p},renderHeadHtml:function(){return'<div class="fc-row '+
this.view.widgetHeaderClass+'"><table><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},renderHeadIntroHtml:function(){return this.renderIntroHtml()},renderHeadTrHtml:function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},renderHeadDateCellsHtml:function(){var a,b,c=[];for(a=0;a<this.colCnt;a++)b=this.getCellDate(0,a),c.push(this.renderHeadDateCellHtml(b));return c.join("")},renderHeadDateCellHtml:function(a,
b,c){return'<th class="fc-day-header '+this.view.widgetHeaderClass+" fc-"+bb[a.day()]+'"'+(1==this.rowCnt?' data-date="'+a.format("YYYY-MM-DD")+'"':"")+(1<b?' colspan="'+b+'"':"")+(c?" "+c:"")+">"+x(a.format(this.colHeadFormat))+"</th>"},renderBgTrHtml:function(a){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(a))+this.renderBgCellsHtml(a)+(this.isRTL?this.renderBgIntroHtml(a):"")+"</tr>"},renderBgIntroHtml:function(a){return this.renderIntroHtml()},renderBgCellsHtml:function(a){var b,c,d=[];
for(b=0;b<this.colCnt;b++)c=this.getCellDate(a,b),d.push(this.renderBgCellHtml(c));return d.join("")},renderBgCellHtml:function(a,b){var c=this.view,d=this.getDayClasses(a);return d.unshift("fc-day",c.widgetContentClass),'<td class="'+d.join(" ")+'" data-date="'+a.format("YYYY-MM-DD")+'"'+(b?" "+b:"")+"></td>"},renderIntroHtml:function(){},bookendCells:function(a){var b=this.renderIntroHtml();b&&(this.isRTL?a.append(b):a.prepend(b))}},ga=n.DayGrid=P.extend(fb,{numbersVisible:!1,bottomCoordPadding:0,
rowEls:null,cellEls:null,helperEls:null,rowCoordCache:null,colCoordCache:null,renderDates:function(a){var b,c=this.view,d=this.rowCnt,e=this.colCnt,g="";for(b=0;d>b;b++)g+=this.renderDayRowHtml(b,a);this.el.html(g);this.rowEls=this.el.find(".fc-row");this.cellEls=this.el.find(".fc-day");this.rowCoordCache=new ea({els:this.rowEls,isVertical:!0});this.colCoordCache=new ea({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0});for(b=0;d>b;b++)for(a=0;e>a;a++)c.trigger("dayRender",null,this.getCellDate(b,
a),this.getCellEl(b,a))},unrenderDates:function(){this.removeSegPopover()},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents(!0),a=this.eventsToSegs(a);this.renderFill("businessHours",a,"bgevent")},renderDayRowHtml:function(a,b){var c=["fc-row","fc-week",this.view.widgetContentClass];return b&&c.push("fc-rigid"),'<div class="'+c.join(" ")+'"><div class="fc-bg"><table>'+this.renderBgTrHtml(a)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?
"<thead>"+this.renderNumberTrHtml(a)+"</thead>":"")+"</table></div></div>"},renderNumberTrHtml:function(a){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(a))+this.renderNumberCellsHtml(a)+(this.isRTL?this.renderNumberIntroHtml(a):"")+"</tr>"},renderNumberIntroHtml:function(a){return this.renderIntroHtml()},renderNumberCellsHtml:function(a){var b,c,d=[];for(b=0;b<this.colCnt;b++)c=this.getCellDate(a,b),d.push(this.renderNumberCellHtml(c));return d.join("")},renderNumberCellHtml:function(a){var b;
return this.view.dayNumbersVisible?(b=this.getDayClasses(a),b.unshift("fc-day-number"),'<td class="'+b.join(" ")+'" data-date="'+a.format()+'">'+a.date()+"</td>"):"<td/>"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},rangeUpdated:function(){this.updateDayTable()},spanToSegs:function(a){var b,c=this.sliceRangeByRow(a);for(a=0;a<c.length;a++)b=c[a],this.isRTL?(b.leftCol=this.daysPerRow-1-b.lastRowDayIndex,b.rightCol=
this.daysPerRow-1-b.firstRowDayIndex):(b.leftCol=b.firstRowDayIndex,b.rightCol=b.lastRowDayIndex);return c},prepareHits:function(){this.colCoordCache.build();this.rowCoordCache.build();this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},releaseHits:function(){this.colCoordCache.clear();this.rowCoordCache.clear()},queryHit:function(a,b){var c=this.colCoordCache.getHorizontalIndex(a),d=this.rowCoordCache.getVerticalIndex(b);return null!=d&&null!=c?this.getCellHit(d,c):void 0},getHitSpan:function(a){return this.getCellRange(a.row,
a.col)},getHitEl:function(a){return this.getCellEl(a.row,a.col)},getCellHit:function(a,b){return{row:a,col:b,component:this,left:this.colCoordCache.getLeftOffset(b),right:this.colCoordCache.getRightOffset(b),top:this.rowCoordCache.getTopOffset(a),bottom:this.rowCoordCache.getBottomOffset(a)}},getCellEl:function(a,b){return this.cellEls.eq(a*this.colCnt+b)},renderDrag:function(a,b){return this.renderHighlight(this.eventToSpan(a)),b&&!b.el.closest(this.el).length?this.renderEventLocationHelper(a,b):
void 0},unrenderDrag:function(){this.unrenderHighlight();this.unrenderHelper()},renderEventResize:function(a,b){return this.renderHighlight(this.eventToSpan(a)),this.renderEventLocationHelper(a,b)},unrenderEventResize:function(){this.unrenderHighlight();this.unrenderHelper()},renderHelper:function(a,b){var c,d=[],e=this.eventToSegs(a);return e=this.renderFgSegEls(e),c=this.renderSegRows(e),this.rowEls.each(function(a,e){var m,l=f(e),p=f('<div class="fc-helper-skeleton"><table/></div>');m=b&&b.row===
a?b.el.position().top:l.find(".fc-content-skeleton tbody").position().top;p.css("top",m).find("table").append(c[a].tbodyEl);l.append(p);d.push(p[0])}),this.helperEls=f(d)},unrenderHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(a,b,c){var d,e,g,h=[];b=this.renderFillSegEls(a,b);for(d=0;d<b.length;d++)e=b[d],g=this.renderFillRow(a,e,c),this.rowEls.eq(e.row).append(g),h.push(g[0]);return this.elsByFill[a]=f(h),b},renderFillRow:function(a,
b,c){var d,e,g=this.colCnt,h=b.leftCol,m=b.rightCol+1;return c=c||a.toLowerCase(),d=f('<div class="fc-'+c+'-skeleton"><table><tr/></table></div>'),e=d.find("tr"),0<h&&e.append('<td colspan="'+h+'"/>'),e.append(b.el.attr("colspan",m-h)),g>m&&e.append('<td colspan="'+(g-m)+'"/>'),this.bookendCells(e),d}});ga.mixin({rowStructs:null,unrenderEvents:function(){this.removeSegPopover();P.prototype.unrenderEvents.apply(this,arguments)},getEventSegs:function(){return P.prototype.getEventSegs.call(this).concat(this.popoverSegs||
[])},renderBgSegs:function(a){a=f.grep(a,function(a){return a.event.allDay});return P.prototype.renderBgSegs.call(this,a)},renderFgSegs:function(a){var b;return a=this.renderFgSegEls(a),b=this.rowStructs=this.renderSegRows(a),this.rowEls.each(function(a,d){f(d).find(".fc-content-skeleton > table").append(b[a].tbodyEl)}),a},unrenderFgSegs:function(){for(var a,b=this.rowStructs||[];a=b.pop();)a.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(a){var b,c=[];a=this.groupSegRows(a);for(b=
0;b<a.length;b++)c.push(this.renderSegRow(b,a[b]));return c},fgSegHtml:function(a,b){var c,d,e=this.view,g=a.event,f=e.isEventDraggable(g),m=!b&&g.allDay&&a.isStart&&e.isEventResizableFromStart(g),e=!b&&g.allDay&&a.isEnd&&e.isEventResizableFromEnd(g),f=this.getSegClasses(a,f,m||e),l=ca(this.getSegSkinCss(a)),p="";return f.unshift("fc-day-grid-event","fc-h-event"),a.isStart&&(c=this.getEventTimeText(g),c&&(p='<span class="fc-time">'+x(c)+"</span>")),d='<span class="fc-title">'+(x(g.title||"")||"&nbsp;")+
"</span>",'<a class="'+f.join(" ")+'"'+(g.url?' href="'+x(g.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(this.isRTL?d+" "+p:p+" "+d)+"</div>"+(m?'<div class="fc-resizer fc-start-resizer" />':"")+(e?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(a,b){function c(a){for(;a>g;)(p=(B[d-1]||[])[g])?p.attr("rowspan",parseInt(p.attr("rowspan")||1,10)+1):(p=f("<td/>"),h.append(p)),w[d][g]=p,B[d][g]=p,g++}var d,e,g,h,m,l,p,k=this.colCnt,n=this.buildSegLevels(b),
q=Math.max(1,n.length),u=f("<tbody/>"),x=[],w=[],B=[];for(d=0;q>d;d++){if(e=n[d],g=0,h=f("<tr/>"),x.push([]),w.push([]),B.push([]),e)for(m=0;m<e.length;m++){l=e[m];c(l.leftCol);p=f('<td class="fc-event-container"/>').append(l.el);for(l.leftCol!=l.rightCol?p.attr("colspan",l.rightCol-l.leftCol+1):B[d][g]=p;g<=l.rightCol;)w[d][g]=p,x[d][g]=l,g++;h.append(p)}c(k);this.bookendCells(h);u.append(h)}return{row:a,tbodyEl:u,cellMatrix:w,segMatrix:x,segLevels:n,segs:b}},buildSegLevels:function(a){var b,c,d,
e=[];this.sortEventSegs(a);for(b=0;b<a.length;b++){c=a[b];for(d=0;d<e.length&&ub(c,e[d]);d++);c.level=d;(e[d]||(e[d]=[])).push(c)}for(d=0;d<e.length;d++)e[d].sort(vb);return e},groupSegRows:function(a){var b,c=[];for(b=0;b<this.rowCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].row].push(a[b]);return c}});ga.mixin({segPopover:null,popoverSegs:null,removeSegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(a){var b,c,d=this.rowStructs||[];for(b=0;b<d.length;b++)this.unlimitRow(b),
c=a?"number"==typeof a?a:this.computeRowLevelLimit(b):!1,!1!==c&&this.limitRow(b,c)},computeRowLevelLimit:function(a){function b(a,b){d=Math.max(d,f(b).outerHeight())}var c,d,e=this.rowEls.eq(a).height(),g=this.rowStructs[a].tbodyEl.children();for(a=0;a<g.length;a++)if(c=g.eq(a).removeClass("fc-limited"),d=0,c.find("> td > :first-child").each(b),c.position().top+d>e)return a;return!1},limitRow:function(a,b){function c(c){for(;c>y;)l=v.getCellSegs(a,y,b),l.length&&(n=e[b-1][y],B=v.renderMoreLink(a,
y,l),x=f("<div/>").append(B),n.append(x),z.push(x[0])),y++}var d,e,g,h,m,l,p,k,n,q,u,w,x,B,v=this,t=this.rowStructs[a],z=[],y=0;if(b&&b<t.segLevels.length){d=t.segLevels[b-1];e=t.cellMatrix;g=t.tbodyEl.children().slice(b).addClass("fc-limited").get();for(h=0;h<d.length;h++){m=d[h];c(m.leftCol);k=[];for(p=0;y<=m.rightCol;)l=this.getCellSegs(a,y,b),k.push(l),p+=l.length,y++;if(p){n=e[b-1][m.leftCol];p=n.attr("rowspan")||1;q=[];for(u=0;u<k.length;u++)w=f('<td class="fc-more-cell"/>').attr("rowspan",
p),l=k[u],B=this.renderMoreLink(a,m.leftCol+u,[m].concat(l)),x=f("<div/>").append(B),w.append(x),q.push(w[0]),z.push(w[0]);n.addClass("fc-limited").after(f(q));g.push(n[0])}}c(this.colCnt);t.moreEls=f(z);t.limitedEls=f(g)}},unlimitRow:function(a){a=this.rowStructs[a];a.moreEls&&(a.moreEls.remove(),a.moreEls=null);a.limitedEls&&(a.limitedEls.removeClass("fc-limited"),a.limitedEls=null)},renderMoreLink:function(a,b,c){var d=this,e=this.view;return f('<a class="fc-more"/>').text(this.getMoreLinkText(c.length)).on("click",
function(g){var h=e.opt("eventLimitClick"),m=d.getCellDate(a,b),l=f(this),p=d.getCellEl(a,b),k=d.getCellSegs(a,b),k=d.resliceDaySegs(k,m),n=d.resliceDaySegs(c,m);"function"==typeof h&&(h=e.trigger("eventLimitClick",null,{date:m,dayEl:p,moreEl:l,segs:k,hiddenSegs:n},g));"popover"===h?d.showSegPopover(a,b,l,k):"string"==typeof h&&e.calendar.zoomTo(m,h)})},showSegPopover:function(a,b,c,d){var e,g=this,f=this.view;c=c.parent();e=1==this.rowCnt?f.el:this.rowEls.eq(a);a={className:"fc-more-popover",content:this.renderSegPopoverContent(a,
b,d),parentEl:this.el,top:e.offset().top,autoHide:!0,viewportConstrain:f.opt("popoverViewportConstrain"),hide:function(){g.segPopover.removeElement();g.segPopover=null;g.popoverSegs=null}};this.isRTL?a.right=c.offset().left+c.outerWidth()+1:a.left=c.offset().left-1;this.segPopover=new Bb(a);this.segPopover.show()},renderSegPopoverContent:function(a,b,c){var d;d=this.view;var e=d.opt("theme"),g=this.getCellDate(a,b).format(d.opt("dayPopoverFormat")),e=f('<div class="fc-header '+d.widgetHeaderClass+
'"><span class="fc-close '+(e?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+x(g)+'</span><div class="fc-clear"/></div><div class="fc-body '+d.widgetContentClass+'"><div class="fc-event-container"></div></div>'),g=e.find(".fc-event-container");this.popoverSegs=c=this.renderFgSegEls(c,!0);for(d=0;d<c.length;d++)this.prepareHits(),c[d].hit=this.getCellHit(a,b),this.releaseHits(),g.append(c[d].el);return e},resliceDaySegs:function(a,b){var c=f.map(a,function(a){return a.event}),
d=b.clone(),e=d.clone().add(1,"days"),g={start:d,end:e};return a=this.eventsToSegs(c,function(a){return(a=la(a,g))?[a]:[]}),this.sortEventSegs(a),a},getMoreLinkText:function(a){var b=this.view.opt("eventLimitText");return"function"==typeof b?b(a):"+"+a+" "+b},getCellSegs:function(a,b,c){a=this.rowStructs[a].segMatrix;for(var d=c||0,e=[];d<a.length;)(c=a[d][b])&&e.push(c),d++;return e}});var hb=n.TimeGrid=P.extend(fb,{slotDuration:null,snapDuration:null,snapsPerSlot:null,minTime:null,maxTime:null,
labelFormat:null,labelInterval:null,colEls:null,slatContainerEl:null,slatEls:null,nowIndicatorEls:null,colCoordCache:null,slatCoordCache:null,constructor:function(){P.apply(this,arguments);this.processOptions()},renderDates:function(){this.el.html(this.renderHtml());this.colEls=this.el.find(".fc-day");this.slatContainerEl=this.el.find(".fc-slats");this.slatEls=this.slatContainerEl.find("tr");this.colCoordCache=new ea({els:this.colEls,isHorizontal:!0});this.slatCoordCache=new ea({els:this.slatEls,
isVertical:!0});this.renderContentSkeleton()},renderHtml:function(){return'<div class="fc-bg"><table>'+this.renderBgTrHtml(0)+'</table></div><div class="fc-slats"><table>'+this.renderSlatRowHtml()+"</table></div>"},renderSlatRowHtml:function(){for(var a,b,c,d=this.view,e=this.isRTL,g="",f=q.duration(+this.minTime);f<this.maxTime;)a=this.start.clone().time(f),b=J(oa(f,this.labelInterval)),c='<td class="fc-axis fc-time '+d.widgetContentClass+'" '+d.axisStyleAttr()+">"+(b?"<span>"+x(a.format(this.labelFormat))+
"</span>":"")+"</td>",g+='<tr data-time="'+a.format("HH:mm:ss")+'"'+(b?"":' class="fc-minor"')+">"+(e?"":c)+'<td class="'+d.widgetContentClass+'"/>'+(e?c:"")+"</tr>",f.add(this.slotDuration);return g},processOptions:function(){var a,b=this.view,c=b.opt("slotDuration");a=b.opt("snapDuration");c=q.duration(c);a=a?q.duration(a):c;this.slotDuration=c;this.snapDuration=a;this.snapsPerSlot=c/a;this.minResizeDuration=a;this.minTime=q.duration(b.opt("minTime"));this.maxTime=q.duration(b.opt("maxTime"));a=
b.opt("slotLabelFormat");f.isArray(a)&&(a=a[a.length-1]);this.labelFormat=a||b.opt("axisFormat")||b.opt("smallTimeFormat");this.labelInterval=(a=b.opt("slotLabelInterval"))?q.duration(a):this.computeLabelInterval(c)},computeLabelInterval:function(a){var b,c,d;for(b=gb.length-1;0<=b;b--)if(c=q.duration(gb[b]),d=oa(c,a),J(d)&&1<d)return c;return q.duration(a)},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},prepareHits:function(){this.colCoordCache.build();
this.slatCoordCache.build()},releaseHits:function(){this.colCoordCache.clear()},queryHit:function(a,b){var c=this.snapsPerSlot,d=this.colCoordCache,e=this.slatCoordCache,g=d.getHorizontalIndex(a),f=e.getVerticalIndex(b);if(null!=g&&null!=f){var m=e.getTopOffset(f),l=e.getHeight(f),e=Math.floor((b-m)/l*c),n=m+e/c*l,m=m+(e+1)/c*l;return{col:g,snap:f*c+e,component:this,left:d.getLeftOffset(g),right:d.getRightOffset(g),top:n,bottom:m}}},getHitSpan:function(a){var b,c=this.getCellDate(0,a.col);a=this.computeSnapTime(a.snap);
return c.time(a),b=c.clone().add(this.snapDuration),{start:c,end:b}},getHitEl:function(a){return this.colEls.eq(a.col)},rangeUpdated:function(){this.updateDayTable()},computeSnapTime:function(a){return q.duration(this.minTime+this.snapDuration*a)},spanToSegs:function(a){var b=this.sliceRangeByTimes(a);for(a=0;a<b.length;a++)this.isRTL?b[a].col=this.daysPerRow-1-b[a].dayIndex:b[a].col=b[a].dayIndex;return b},sliceRangeByTimes:function(a){var b,c,d=[];for(c=0;c<this.daysPerRow;c++)b=this.dayDates[c].clone(),
b={start:b.clone().time(this.minTime),end:b.clone().time(this.maxTime)},(b=la(a,b))&&(b.dayIndex=c,d.push(b));return d},updateSize:function(a){this.slatCoordCache.build();a&&this.updateSegVerticals([].concat(this.fgSegs||[],this.bgSegs||[],this.businessSegs||[]))},getTotalSlatHeight:function(){return this.slatContainerEl.outerHeight()},computeDateTop:function(a,b){return this.computeTimeTop(q.duration(a-b.clone().stripTime()))},computeTimeTop:function(a){var b,c,d=this.slatEls.length;a=(a-this.minTime)/
this.slotDuration;return a=Math.max(0,a),a=Math.min(d,a),b=Math.floor(a),b=Math.min(b,d-1),c=a-b,this.slatCoordCache.getTopPosition(b)+this.slatCoordCache.getHeight(b)*c},renderDrag:function(a,b){return b?this.renderEventLocationHelper(a,b):void this.renderHighlight(this.eventToSpan(a))},unrenderDrag:function(){this.unrenderHelper();this.unrenderHighlight()},renderEventResize:function(a,b){return this.renderEventLocationHelper(a,b)},unrenderEventResize:function(){this.unrenderHelper()},renderHelper:function(a,
b){return this.renderHelperSegs(this.eventToSegs(a),b)},unrenderHelper:function(){this.unrenderHelperSegs()},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents(),a=this.eventsToSegs(a);this.renderBusinessSegs(a)},unrenderBusinessHours:function(){this.unrenderBusinessSegs()},getNowIndicatorUnit:function(){return"minute"},renderNowIndicator:function(a){var b=this.spanToSegs({start:a,end:a}),c=this.computeDateTop(a,a),d=[];for(a=0;a<b.length;a++)d.push(f('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",
c).appendTo(this.colContainerEls.eq(b[a].col))[0]);0<b.length&&d.push(f('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",c).appendTo(this.el.find(".fc-content-skeleton"))[0]);this.nowIndicatorEls=f(d)},unrenderNowIndicator:function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},renderSelection:function(a){this.view.opt("selectHelper")?this.renderEventLocationHelper(a):this.renderHighlight(a)},unrenderSelection:function(){this.unrenderHelper();
this.unrenderHighlight()},renderHighlight:function(a){this.renderHighlightSegs(this.spanToSegs(a))},unrenderHighlight:function(){this.unrenderHighlightSegs()}});hb.mixin({colContainerEls:null,fgContainerEls:null,bgContainerEls:null,helperContainerEls:null,highlightContainerEls:null,businessContainerEls:null,fgSegs:null,bgSegs:null,helperSegs:null,highlightSegs:null,businessSegs:null,renderContentSkeleton:function(){var a,b="";for(a=0;a<this.colCnt;a++)b+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';
a=f('<div class="fc-content-skeleton"><table><tr>'+b+"</tr></table></div>");this.colContainerEls=a.find(".fc-content-col");this.helperContainerEls=a.find(".fc-helper-container");this.fgContainerEls=a.find(".fc-event-container:not(.fc-helper-container)");this.bgContainerEls=a.find(".fc-bgevent-container");this.highlightContainerEls=a.find(".fc-highlight-container");this.businessContainerEls=a.find(".fc-business-container");this.bookendCells(a.find("tr"));this.el.append(a)},renderFgSegs:function(a){return a=
this.renderFgSegsIntoContainers(a,this.fgContainerEls),this.fgSegs=a,a},unrenderFgSegs:function(){this.unrenderNamedSegs("fgSegs")},renderHelperSegs:function(a,b){var c,d,e,g=[];a=this.renderFgSegsIntoContainers(a,this.helperContainerEls);for(c=0;c<a.length;c++)d=a[c],b&&b.col===d.col&&(e=b.el,d.el.css({left:e.css("left"),right:e.css("right"),"margin-left":e.css("margin-left"),"margin-right":e.css("margin-right")})),g.push(d.el[0]);return this.helperSegs=a,f(g)},unrenderHelperSegs:function(){this.unrenderNamedSegs("helperSegs")},
renderBgSegs:function(a){return a=this.renderFillSegEls("bgEvent",a),this.updateSegVerticals(a),this.attachSegsByCol(this.groupSegsByCol(a),this.bgContainerEls),this.bgSegs=a,a},unrenderBgSegs:function(){this.unrenderNamedSegs("bgSegs")},renderHighlightSegs:function(a){a=this.renderFillSegEls("highlight",a);this.updateSegVerticals(a);this.attachSegsByCol(this.groupSegsByCol(a),this.highlightContainerEls);this.highlightSegs=a},unrenderHighlightSegs:function(){this.unrenderNamedSegs("highlightSegs")},
renderBusinessSegs:function(a){a=this.renderFillSegEls("businessHours",a);this.updateSegVerticals(a);this.attachSegsByCol(this.groupSegsByCol(a),this.businessContainerEls);this.businessSegs=a},unrenderBusinessSegs:function(){this.unrenderNamedSegs("businessSegs")},groupSegsByCol:function(a){var b,c=[];for(b=0;b<this.colCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].col].push(a[b]);return c},attachSegsByCol:function(a,b){var c,d,e;for(c=0;c<this.colCnt;c++)for(d=a[c],e=0;e<d.length;e++)b.eq(c).append(d[e].el)},
unrenderNamedSegs:function(a){var b,c=this[a];if(c){for(b=0;b<c.length;b++)c[b].el.remove();this[a]=null}},renderFgSegsIntoContainers:function(a,b){var c,d;a=this.renderFgSegEls(a);c=this.groupSegsByCol(a);for(d=0;d<this.colCnt;d++)this.updateFgSegCoords(c[d]);return this.attachSegsByCol(c,b),a},fgSegHtml:function(a,b){var c,d,e,g=this.view,f=a.event,m=g.isEventDraggable(f),l=!b&&a.isStart&&g.isEventResizableFromStart(f),n=!b&&a.isEnd&&g.isEventResizableFromEnd(f),m=this.getSegClasses(a,m,l||n),l=
ca(this.getSegSkinCss(a));return m.unshift("fc-time-grid-event","fc-v-event"),g.isMultiDayEvent(f)?(a.isStart||a.isEnd)&&(c=this.getEventTimeText(a),d=this.getEventTimeText(a,"LT"),e=this.getEventTimeText(a,null,!1)):(c=this.getEventTimeText(f),d=this.getEventTimeText(f,"LT"),e=this.getEventTimeText(f,null,!1)),'<a class="'+m.join(" ")+'"'+(f.url?' href="'+x(f.url)+'"':"")+(l?' style="'+l+'"':"")+'><div class="fc-content">'+(c?'<div class="fc-time" data-start="'+x(e)+'" data-full="'+x(d)+'"><span>'+
x(c)+"</span></div>":"")+(f.title?'<div class="fc-title">'+x(f.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(n?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},updateSegVerticals:function(a){this.computeSegVerticals(a);this.assignSegVerticals(a)},computeSegVerticals:function(a){var b,c;for(b=0;b<a.length;b++)c=a[b],c.top=this.computeDateTop(c.start,c.start),c.bottom=this.computeDateTop(c.end,c.start)},assignSegVerticals:function(a){var b,c;for(b=0;b<a.length;b++)c=a[b],c.el.css(this.generateSegVerticalCss(c))},
generateSegVerticalCss:function(a){return{top:a.top,bottom:-a.bottom}},updateFgSegCoords:function(a){this.computeSegVerticals(a);this.computeFgSegHorizontals(a);this.assignSegVerticals(a);this.assignFgSegHorizontals(a)},computeFgSegHorizontals:function(a){var b;this.sortEventSegs(a);var c,d,e;b=[];for(c=0;c<a.length;c++){d=a[c];for(e=0;e<b.length&&Za(d,b[e]).length;e++);d.level=e;(b[e]||(b[e]=[])).push(d)}var g;for(a=0;a<b.length;a++)for(c=b[a],d=0;d<c.length;d++)for(e=c[d],e.forwardSegs=[],g=a+1;g<
b.length;g++)Za(e,b[g],e.forwardSegs);if(b=b[0]){for(a=0;a<b.length;a++)Ya(b[a]);for(a=0;a<b.length;a++)this.computeFgSegForwardBack(b[a],0,0)}},computeFgSegForwardBack:function(a,b,c){var d=a.forwardSegs;if(void 0===a.forwardCoord)for(d.length?(this.sortForwardSegs(d),this.computeFgSegForwardBack(d[0],b+1,c),a.forwardCoord=d[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),b=0;b<d.length;b++)this.computeFgSegForwardBack(d[b],0,a.forwardCoord)},sortForwardSegs:function(a){a.sort(U(this,
"compareForwardSegs"))},compareForwardSegs:function(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||this.compareEventSegs(a,b)},assignFgSegHorizontals:function(a){var b,c;for(b=0;b<a.length;b++)c=a[b],c.el.css(this.generateFgSegHorizontalCss(c)),30>c.bottom-c.top&&c.el.addClass("fc-short")},generateFgSegHorizontalCss:function(a){var b,c,d=this.view.opt("slotEventOverlap"),e=a.backwardCoord,g=a.forwardCoord,f=this.generateSegVerticalCss(a);return d&&(g=Math.min(1,
e+2*(g-e))),this.isRTL?(b=1-g,c=e):(b=e,c=1-g),f.zIndex=a.level+1,f.left=100*b+"%",f.right=100*c+"%",d&&a.forwardPressure&&(f[this.isRTL?"marginLeft":"marginRight"]=20),f}});var S=n.View=C.extend(eb,W,{type:null,name:null,title:null,calendar:null,options:null,el:null,displaying:null,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isRTL:!1,isSelected:!1,selectedEvent:null,eventOrderSpecs:null,widgetHeaderClass:null,
widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,isNowIndicatorRendered:null,initialNowDate:null,initialNowQueriedMs:null,nowIndicatorTimeoutID:null,nowIndicatorIntervalID:null,constructor:function(a,b,c,d){this.calendar=a;this.type=this.name=b;this.options=c;this.intervalDuration=d||q.duration(1,"day");this.nextDayThreshold=q.duration(this.opt("nextDayThreshold"));this.initThemingProps();this.initHiddenDays();this.isRTL=this.opt("isRTL");this.eventOrderSpecs=
Ea(this.opt("eventOrder"));this.initialize()},initialize:function(){},opt:function(a){return this.options[a]},trigger:function(a,b){var c=this.calendar;return c.trigger.apply(c,[a,b||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(a){this.setRange(this.computeRange(a))},setRange:function(a){f.extend(this,a);this.updateTitle()},computeRange:function(a){var b,c,d=ma(this.intervalDuration);a=a.clone().startOf(d);var e=a.clone().add(this.intervalDuration);return/year|month|week|day/.test(d)?
(a.stripTime(),e.stripTime()):(a.hasTime()||(a=this.calendar.time(0)),e.hasTime()||(e=this.calendar.time(0))),b=a.clone(),b=this.skipHiddenDays(b),c=e.clone(),c=this.skipHiddenDays(c,-1,!0),{intervalUnit:d,intervalStart:a,intervalEnd:e,start:b,end:c}},computePrevDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).add(this.intervalDuration))},
massageCurrentDate:function(a,b){return 1>=this.intervalDuration.as("days")&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,b),a.startOf("day")),a},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.calendar.applyTimezone(this.intervalStart),end:this.calendar.applyTimezone(this.intervalEnd)},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?
"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):1<this.intervalDuration.as("days")?"ll":"LL"},formatRange:function(a,b,c){var d=a.end;return d.hasTime()||(d=d.clone().subtract(1)),Qa(a.start,d,b,c,this.opt("isRTL"))},setElement:function(a){this.el=a;this.bindGlobalHandlers()},removeElement:function(){this.clear();this.isSkeletonRendered&&(this.unrenderSkeleton(),this.isSkeletonRendered=!1);this.unbindGlobalHandlers();this.el.remove()},display:function(a){var b=this,c=null;return this.displaying&&
(c=this.queryScroll()),this.calendar.freezeContentHeight(),this.clear().then(function(){return b.displaying=f.when(b.displayView(a)).then(function(){b.forceScroll(b.computeInitialScroll(c));b.calendar.unfreezeContentHeight();b.triggerRender()})})},clear:function(){var a=this,b=this.displaying;return b?b.then(function(){return a.displaying=null,a.clearEvents(),a.clearView()}):f.when()},displayView:function(a){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0);a&&this.setDate(a);
this.render&&this.render();this.renderDates();this.updateSize();this.renderBusinessHours();this.startNowIndicator()},clearView:function(){this.unselect();this.stopNowIndicator();this.triggerUnrender();this.unrenderBusinessHours();this.unrenderDates();this.destroy&&this.destroy()},renderSkeleton:function(){},unrenderSkeleton:function(){},renderDates:function(){},unrenderDates:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerUnrender:function(){this.trigger("viewDestroy",
this,this,this.el)},bindGlobalHandlers:function(){this.listenTo(f(document),"mousedown",this.handleDocumentMousedown);this.listenTo(f(document),"touchstart",this.handleDocumentTouchStart);this.listenTo(f(document),"touchend",this.handleDocumentTouchEnd)},unbindGlobalHandlers:function(){this.stopListeningTo(f(document))},initThemingProps:function(){var a=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=a+"-widget-header";this.widgetContentClass=a+"-widget-content";this.highlightStateClass=a+"-state-highlight"},
renderBusinessHours:function(){},unrenderBusinessHours:function(){},startNowIndicator:function(){var a,b,c,d=this;this.opt("nowIndicator")&&(a=this.getNowIndicatorUnit(),a&&(b=U(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,this.renderNowIndicator(this.initialNowDate),this.isNowIndicatorRendered=!0,c=this.initialNowDate.clone().startOf(a).add(1,a)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){d.nowIndicatorTimeoutID=
null;b();c=+q.duration(1,a);c=Math.max(100,c);d.nowIndicatorIntervalID=setInterval(b,c)},c)))},updateNowIndicator:function(){this.isNowIndicatorRendered&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add(new Date-this.initialNowQueriedMs)))},stopNowIndicator:function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearTimeout(this.nowIndicatorIntervalID),
this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},getNowIndicatorUnit:function(){},renderNowIndicator:function(a){},unrenderNowIndicator:function(){},updateSize:function(a){var b;a&&(b=this.queryScroll());this.updateHeight(a);this.updateWidth(a);this.updateNowIndicator();a&&this.setScroll(b)},updateWidth:function(a){},updateHeight:function(a){a=this.calendar;this.setHeight(a.getSuggestedViewHeight(),a.isHeightAuto())},setHeight:function(a,b){},computeInitialScroll:function(a){return 0},
queryScroll:function(){},setScroll:function(a){},forceScroll:function(a){var b=this;this.setScroll(a);setTimeout(function(){b.setScroll(a)},0)},displayEvents:function(a){var b=this.queryScroll();this.clearEvents();this.renderEvents(a);this.isEventsRendered=!0;this.setScroll(b);this.triggerEventRender()},clearEvents:function(){var a;this.isEventsRendered&&(a=this.queryScroll(),this.triggerEventUnrender(),this.destroyEvents&&this.destroyEvents(),this.unrenderEvents(),this.setScroll(a),this.isEventsRendered=
!1)},renderEvents:function(a){},unrenderEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(a){this.trigger("eventAfterRender",a.event,a.event,a.el)});this.trigger("eventAfterAllRender")},triggerEventUnrender:function(){this.renderedEventSegEach(function(a){this.trigger("eventDestroy",a.event,a.event,a.el)})},resolveEventEl:function(a,b){var c=this.trigger("eventRender",a,a,b);return!1===c?b=null:c&&!0!==c&&(b=f(c)),b},showEvent:function(a){this.renderedEventSegEach(function(a){a.el.css("visibility",
"")},a)},hideEvent:function(a){this.renderedEventSegEach(function(a){a.el.css("visibility","hidden")},a)},renderedEventSegEach:function(a,b){var c,d=this.getEventSegs();for(c=0;c<d.length;c++)b&&d[c].event._id!==b._id||d[c].el&&a.call(this,d[c])},getEventSegs:function(){return[]},isEventDraggable:function(a){var b=a.source||{};return F(a.startEditable,b.startEditable,this.opt("eventStartEditable"),a.editable,b.editable,this.opt("editable"))},reportEventDrop:function(a,b,c,d,e){var g=this.calendar,
f=g.mutateEvent(a,b,c);this.triggerEventDrop(a,f.dateDelta,function(){f.undo();g.reportEventChange()},d,e);g.reportEventChange()},triggerEventDrop:function(a,b,c,d,e){this.trigger("eventDrop",d[0],a,b,c,e,{})},reportExternalDrop:function(a,b,c,d,e){var g,h,m=a.eventProps;m&&(g=f.extend({},m,b),h=this.calendar.renderEvent(g,a.stick)[0]);this.triggerExternalDrop(h,b,c,d,e)},triggerExternalDrop:function(a,b,c,d,e){this.trigger("drop",c[0],b.start,d,e);a&&this.trigger("eventReceive",null,a)},renderDrag:function(a,
b){},unrenderDrag:function(){},isEventResizableFromStart:function(a){return this.opt("eventResizableFromStart")&&this.isEventResizable(a)},isEventResizableFromEnd:function(a){return this.isEventResizable(a)},isEventResizable:function(a){var b=a.source||{};return F(a.durationEditable,b.durationEditable,this.opt("eventDurationEditable"),a.editable,b.editable,this.opt("editable"))},reportEventResize:function(a,b,c,d,e){var g=this.calendar,f=g.mutateEvent(a,b,c);this.triggerEventResize(a,f.durationDelta,
function(){f.undo();g.reportEventChange()},d,e);g.reportEventChange()},triggerEventResize:function(a,b,c,d,e){this.trigger("eventResize",d[0],a,b,c,e,{})},select:function(a,b){this.unselect(b);this.renderSelection(a);this.reportSelection(a,b)},renderSelection:function(a){},reportSelection:function(a,b){this.isSelected=!0;this.triggerSelect(a,b)},triggerSelect:function(a,b){this.trigger("select",null,this.calendar.applyTimezone(a.start),this.calendar.applyTimezone(a.end),b)},unselect:function(a){this.isSelected&&
(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.trigger("unselect",null,a))},unrenderSelection:function(){},selectEvent:function(a){this.selectedEvent&&this.selectedEvent===a||(this.unselectEvent(),this.renderedEventSegEach(function(a){a.el.addClass("fc-selected")},a),this.selectedEvent=a)},unselectEvent:function(){this.selectedEvent&&(this.renderedEventSegEach(function(a){a.el.removeClass("fc-selected")},this.selectedEvent),this.selectedEvent=null)},
isEventSelected:function(a){return this.selectedEvent&&this.selectedEvent._id===a._id},handleDocumentMousedown:function(a){this.calendar.isTouch||1!=a.which||a.ctrlKey||(this.processRangeUnselect(a),this.processEventUnselect(a))},handleDocumentTouchStart:function(a){this.processRangeUnselect(a)},handleDocumentTouchEnd:function(a){this.processEventUnselect(a)},processRangeUnselect:function(a){var b;this.isSelected&&this.opt("unselectAuto")&&(b=this.opt("unselectCancel"),b&&f(a.target).closest(b).length||
this.unselect(a))},processEventUnselect:function(a){this.selectedEvent&&(f(a.target).closest(".fc-selected").length||this.unselectEvent())},triggerDayClick:function(a,b,c){this.trigger("dayClick",b,this.calendar.applyTimezone(a.start),c)},initHiddenDays:function(){var a,b=this.opt("hiddenDays")||[],c=[],d=0;!1===this.opt("weekends")&&b.push(0,6);for(a=0;7>a;a++)(c[a]=-1!==f.inArray(a,b))||d++;if(!d)throw"invalid hiddenDays";this.isHiddenDayHash=c},isHiddenDay:function(a){return q.isMoment(a)&&(a=
a.day()),this.isHiddenDayHash[a]},skipHiddenDays:function(a,b,c){a=a.clone();for(b=b||1;this.isHiddenDayHash[(a.day()+(c?b:0)+7)%7];)a.add(b,"days");return a},computeDayRange:function(a){var b,c=a.start.clone().stripTime();a=a.end;var d=null;return a&&(d=a.clone().stripTime(),b=+a.time(),b&&b>=this.nextDayThreshold&&d.add(1,"days")),(!a||c>=d)&&(d=c.clone().add(1,"days")),{start:c,end:d}},isMultiDayEvent:function(a){a=this.computeDayRange(a);return 1<a.end.diff(a.start,"days")}}),ib=n.Scroller=C.extend({el:null,
scrollEl:null,overflowX:null,overflowY:null,constructor:function(a){a=a||{};this.overflowX=a.overflowX||a.overflow||"auto";this.overflowY=a.overflowY||a.overflow||"auto"},render:function(){this.el=this.renderEl();this.applyOverflow()},renderEl:function(){return this.scrollEl=f('<div class="fc-scroller"></div>')},clear:function(){this.setHeight("auto");this.applyOverflow()},destroy:function(){this.el.remove()},applyOverflow:function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},
lockOverflow:function(a){var b=this.overflowX,c=this.overflowY;a=a||this.getScrollbarWidths();"auto"===b&&(b=a.top||a.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden");"auto"===c&&(c=a.left||a.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden");this.scrollEl.css({"overflow-x":b,"overflow-y":c})},setHeight:function(a){this.scrollEl.height(a)},getScrollTop:function(){return this.scrollEl.scrollTop()},setScrollTop:function(a){this.scrollEl.scrollTop(a)},
getClientWidth:function(){return this.scrollEl[0].clientWidth},getClientHeight:function(){return this.scrollEl[0].clientHeight},getScrollbarWidths:function(){return ja(this.scrollEl)}}),z=n.Calendar=C.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,loadingLevel:0,isTouch:!1,constructor:function(a,b){function c(){return a.is(":visible")}function d(a){H++;v&&a&&v.type!==a&&(w.deactivateButton(v.type),l(),v.removeElement(),v=k.view=null);
!v&&a&&(v=k.view=I[a]||(I[a]=k.instantiateView(a)),v.setElement(f("<div class='fc-view fc-"+a+"-view' />").appendTo(B)),w.activateButton(a));v&&(y=v.massageCurrentDate(y),v.displaying&&y.isWithin(v.intervalStart,v.intervalEnd)||!c()||(v.display(y),p(),w.updateTitle(v.title),k.getNow().isWithin(v.intervalStart,v.intervalEnd)?w.disableButton("today"):w.enableButton("today"),!r.lazyFetching||E(v.start,v.end)?F(v.start,v.end):m()));p();H--}function e(a){return c()?(a&&g(),H++,v.updateSize(!0),H--,!0):
void 0}function g(){t="number"==typeof r.contentHeight?r.contentHeight:"number"==typeof r.height?r.height-(z?z.outerHeight(!0):0):Math.round(B.width()/Math.max(r.aspectRatio,.5))}function h(a){!H&&a.target===window&&v.start&&e(!0)&&v.trigger("windowResize",A)}function m(){c()&&(l(),v.displayEvents(D),p())}function l(){B.css({width:"100%",height:B.height(),overflow:"hidden"})}function p(){B.css({width:"",height:"",overflow:""})}var k=this;k.initOptions(b||{});var r=this.options;k.render=function(){B?
c()&&(c()&&g(),d()):(a.addClass("fc"),a.addClass(k.isTouch?"fc-touch":"fc-cursor"),r.isRTL?a.addClass("fc-rtl"):a.addClass("fc-ltr"),r.theme?a.addClass("ui-widget"):a.addClass("fc-unthemed"),B=f("<div class='fc-view-container'/>").prependTo(a),w=k.header=new xb(k,r),(z=w.render())&&a.prepend(z),d(r.defaultView),r.handleWindowResize&&(C=pa(h,r.windowResizeDelay),f(window).resize(C)))};k.destroy=function(){v&&v.removeElement();w.removeElement();B.remove();a.removeClass("fc fc-touch fc-cursor fc-ltr fc-rtl fc-unthemed ui-widget");
C&&f(window).unbind("resize",C)};k.refetchEvents=function(){l();v.clearEvents();p();F(v.start,v.end)};k.reportEvents=function(a){D=a;m()};k.reportEventChange=function(){m()};k.rerenderEvents=m;k.changeView=d;k.select=function(a,b){v.select(k.buildSelectSpan.apply(k,arguments))};k.unselect=function(){v&&v.unselect()};k.prev=function(){y=v.computePrevDate(y);d()};k.next=function(){y=v.computeNextDate(y);d()};k.prevYear=function(){y.add(-1,"years");d()};k.nextYear=function(){y.add(1,"years");d()};k.today=
function(){y=k.getNow();d()};k.gotoDate=function(a){y=k.moment(a).stripZone();d()};k.incrementDate=function(a){y.add(q.duration(a));d()};k.zoomTo=function(a,b){var c;b=b||"day";c=k.getViewSpec(b)||k.getUnitViewSpec(b);y=a.clone();d(c?c.type:null)};k.getDate=function(){return k.applyTimezone(y)};k.getCalendar=function(){return k};k.getView=function(){return v};k.option=function(a,b){return void 0===b?r[a]:void("height"!=a&&"contentHeight"!=a&&"aspectRatio"!=a||(r[a]=b,e(!0)))};k.trigger=function(a,
b){var c=Array.prototype.slice.call(arguments,2);return b=b||A,this.triggerWith(a,b,c),r[a]?r[a].apply(b,c):void 0};var u=Z(ab(r.lang));if(r.monthNames&&(u._months=r.monthNames),r.monthNamesShort&&(u._monthsShort=r.monthNamesShort),r.dayNames&&(u._weekdays=r.dayNames),r.dayNamesShort&&(u._weekdaysShort=r.dayNamesShort),null!=r.firstDay){var x=Z(u._week);x.dow=r.firstDay;u._week=x}u._fullCalendar_weekCalc=function(a){return"function"==typeof a?a:"local"===a?a:"iso"===a||"ISO"===a?"ISO":void 0}(r.weekNumberCalculation);
k.defaultAllDayEventDuration=q.duration(r.defaultAllDayEventDuration);k.defaultTimedEventDuration=q.duration(r.defaultTimedEventDuration);k.moment=function(){var a;return"local"===r.timezone?(a=n.moment.apply(null,arguments),a.hasTime()&&a.local()):a="UTC"===r.timezone?n.moment.utc.apply(null,arguments):n.moment.parseZone.apply(null,arguments),"_locale"in a?a._locale=u:a._lang=u,a};k.getIsAmbigTimezone=function(){return"local"!==r.timezone&&"UTC"!==r.timezone};k.applyTimezone=function(a){if(!a.hasTime())return a.clone();
var b,c=k.moment(a.toArray()),d=a.time()-c.time();return d&&(b=c.clone().add(d),0===a.time()-b.time()&&(c=b)),c};k.getNow=function(){var a=r.now;return"function"==typeof a&&(a=a()),k.moment(a).stripZone()};k.getEventEnd=function(a){return a.end?a.end.clone():k.getDefaultEventEnd(a.allDay,a.start)};k.getDefaultEventEnd=function(a,b){var c=b.clone();return a?c.stripTime().add(k.defaultAllDayEventDuration):c.add(k.defaultTimedEventDuration),k.getIsAmbigTimezone()&&c.stripZone(),c};k.humanizeDuration=
function(a){return(a.locale||a.lang).call(a,r.lang).humanize()};yb.call(k,r);var w,z,B,v,t,C,y,E=k.isFetchNeeded,F=k.fetchEvents,A=a[0],I={},H=0,D=[];y=null!=r.defaultDate?k.moment(r.defaultDate).stripZone():k.getNow();k.getSuggestedViewHeight=function(){void 0===t&&c()&&g();return t};k.isHeightAuto=function(){return"auto"===r.contentHeight||"auto"===r.height};k.freezeContentHeight=l;k.unfreezeContentHeight=p;k.initialize()},initialize:function(){},initOptions:function(a){var b,c;a=jb(a);b=a.lang;
(c=Q[b])||(b=z.defaults.lang,c=Q[b]||{});this.dirDefaults=b=F(a.isRTL,c.isRTL,z.defaults.isRTL)?z.rtlDefaults:{};this.langDefaults=c;this.overrides=a;this.options=O([z.defaults,b,c,a],R);$a(this.options);this.isTouch=null!=this.options.isTouch?this.options.isTouch:n.isTouch;this.viewSpecCache={}},getViewSpec:function(a){var b=this.viewSpecCache;return b[a]||(b[a]=this.buildViewSpec(a))},getUnitViewSpec:function(a){var b,c,d;if(-1!=f.inArray(a,na))for(b=this.header.getViewsWithButtons(),f.each(n.views,
function(a){b.push(a)}),c=0;c<b.length;c++)if(d=this.getViewSpec(b[c]),d&&d.singleUnit==a)return d},buildViewSpec:function(a){for(var b,c,d,e,g=this.overrides.views||{},f=[],m=[],l=[],n=a;n;)b=L[n],c=g[n],n=null,"function"==typeof b&&(b={"class":b}),b&&(f.unshift(b),m.unshift(b.defaults||{}),d=d||b.duration,n=n||b.type),c&&(l.unshift(c),d=d||c.duration,n=n||c.type);return b=O(f),b.type=a,b["class"]?(d&&(d=q.duration(d),d.valueOf()&&(b.duration=d,e=ma(d),1===d.as(e)&&(b.singleUnit=e,l.unshift(g[e]||
{})))),b.defaults=O(m,R),b.overrides=O(l,R),this.buildViewSpecOptions(b),this.buildViewSpecButtonText(b,a),b):!1},buildViewSpecOptions:function(a){a.options=O([z.defaults,a.defaults,this.dirDefaults,this.langDefaults,this.overrides,a.overrides],R);$a(a.options)},buildViewSpecButtonText:function(a,b){function c(c){c=c.buttonText||{};return c[b]||(a.singleUnit?c[a.singleUnit]:null)}a.buttonTextOverride=c(this.overrides)||a.overrides.buttonText;a.buttonTextDefault=c(this.langDefaults)||c(this.dirDefaults)||
a.defaults.buttonText||c(z.defaults)||(a.duration?this.humanizeDuration(a.duration):null)||b},instantiateView:function(a){var b=this.getViewSpec(a);return new b["class"](this,a,b.options,b.duration)},isValidViewType:function(a){return!!this.getViewSpec(a)},pushLoading:function(){this.loadingLevel++||this.trigger("loading",null,!0,this.view)},popLoading:function(){--this.loadingLevel||this.trigger("loading",null,!1,this.view)},buildSelectSpan:function(a,b){var c,d=this.moment(a).stripZone();return c=
b?this.moment(b).stripZone():d.hasTime()?d.clone().add(this.defaultTimedEventDuration):d.clone().add(this.defaultAllDayEventDuration),{start:d,end:c}}});z.mixin(eb);z.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",
scrollTime:"06:00:00",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},
dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200,longPressDelay:1E3};z.englishDefaults={dayPopoverFormat:"dddd, MMMM D"};z.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",
next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var Q=n.langs={};n.datepickerLang=function(a,b,c){var d=Q[a]||(Q[a]={});d.isRTL=c.isRTL;d.weekNumberTitle=c.weekHeader;f.each(Db,function(a,b){d[a]=b(c)});f.datepicker&&(f.datepicker.regional[b]=f.datepicker.regional[a]=c,f.datepicker.regional.en=f.datepicker.regional[""],f.datepicker.setDefaults(c))};n.lang=function(a,b){var c,d;c=Q[a]||(Q[a]={});b&&(c=Q[a]=O([c,b],R));d=ab(a);f.each(Eb,function(a,b){null==c[a]&&(c[a]=b(d,c))});
z.defaults.lang=a};var Db={buttonText:function(a){return{prev:a.prevText.replace(/&.*?;/g,""),next:a.nextText.replace(/&.*?;/g,""),today:a.currentText.replace(/&.*?;/g,"")}},monthYearFormat:function(a){return a.showMonthAfterYear?"YYYY["+a.yearSuffix+"] MMMM":"MMMM YYYY["+a.yearSuffix+"]"}},Eb={dayOfMonthFormat:function(a,b){var c=a.longDateFormat("l");return c=c.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),b.isRTL?c+=" ddd":c="ddd "+c,c},mediumTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,
"a")},smallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(a){return a.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"")}},wb={smallDayDateFormat:function(a){return a.isRTL?
"D dd":"dd D"},weekFormat:function(a){return a.isRTL?"w[ "+a.weekNumberTitle+"]":"["+a.weekNumberTitle+" ]w"},smallWeekFormat:function(a){return a.isRTL?"w["+a.weekNumberTitle+"]":"["+a.weekNumberTitle+"]w"}};n.lang("en",z.englishDefaults);n.sourceNormalizers=[];n.sourceFetchers=[];var zb={dataType:"json",cache:!1},Ab=1;z.prototype.getPeerEvents=function(a,b){var c,d,e=this.getEventCache(),f=[];for(c=0;c<e.length;c++)d=e[c],b&&b._id===d._id||f.push(d);return f};var va=n.BasicView=S.extend({scroller:null,
dayGridClass:ga,dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headContainerEl:null,headRowEl:null,initialize:function(){this.dayGrid=this.instantiateDayGrid();this.scroller=new ib({overflowX:"hidden",overflowY:"auto"})},instantiateDayGrid:function(){return new (this.dayGridClass.extend(Fb))(this)},setRange:function(a){S.prototype.setRange.call(this,a);this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit);this.dayGrid.setRange(a)},computeRange:function(a){a=
S.prototype.computeRange.call(this,a);return/year|month/.test(a.intervalUnit)&&(a.start.startOf("week"),a.start=this.skipHiddenDays(a.start),a.end.weekday()&&(a.end.add(1,"week").startOf("week"),a.end=this.skipHiddenDays(a.end,-1,!0))),a},renderDates:function(){this.dayNumbersVisible=1<this.dayGrid.rowCnt;this.weekNumbersVisible=this.opt("weekNumbers");this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml());this.renderHead();
this.scroller.render();var a=this.scroller.el.addClass("fc-day-grid-container"),b=f('<div class="fc-day-grid" />').appendTo(a);this.el.find(".fc-body > tr > td").append(a);this.dayGrid.setElement(b);this.dayGrid.renderDates(this.hasRigidRows())},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.dayGrid.renderHeadHtml());this.headRowEl=this.headContainerEl.find(".fc-row")},unrenderDates:function(){this.dayGrid.unrenderDates();this.dayGrid.removeElement();this.scroller.destroy()},
renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"></td></tr></tbody></table>'},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var a=this.opt("eventLimit");return a&&"number"!=typeof a},
updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=Aa(this.el.find(".fc-week-number")))},setHeight:function(a,b){var c,d,e=this.opt("eventLimit");this.scroller.clear();xa(this.headRowEl);this.dayGrid.removeSegPopover();e&&"number"==typeof e&&this.dayGrid.limitRows(e);c=this.computeScrollerHeight(a);this.setGridHeight(c,b);e&&"number"!=typeof e&&this.dayGrid.limitRows(e);b||(this.scroller.setHeight(c),d=this.scroller.getScrollbarWidths(),(d.left||d.right)&&(wa(this.headRowEl,d),
c=this.computeScrollerHeight(a),this.scroller.setHeight(c)),this.scroller.lockOverflow(d))},computeScrollerHeight:function(a){return a-Ba(this.el,this.scroller.el)},setGridHeight:function(a,b){b?this.dayGrid.rowEls.height(""):ya(this.dayGrid.rowEls,a,!0)},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(a){this.scroller.setScrollTop(a)},prepareHits:function(){this.dayGrid.prepareHits()},releaseHits:function(){this.dayGrid.releaseHits()},queryHit:function(a,b){return this.dayGrid.queryHit(a,
b)},getHitSpan:function(a){return this.dayGrid.getHitSpan(a)},getHitEl:function(a){return this.dayGrid.getHitEl(a)},renderEvents:function(a){this.dayGrid.renderEvents(a);this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},unrenderEvents:function(){this.dayGrid.unrenderEvents()},renderDrag:function(a,b){return this.dayGrid.renderDrag(a,b)},unrenderDrag:function(){this.dayGrid.unrenderDrag()},renderSelection:function(a){this.dayGrid.renderSelection(a)},unrenderSelection:function(){this.dayGrid.unrenderSelection()}}),
Fb={renderHeadIntroHtml:function(){var a=this.view;return a.weekNumbersVisible?'<th class="fc-week-number '+a.widgetHeaderClass+'" '+a.weekNumberStyleAttr()+"><span>"+x(a.opt("weekNumberTitle"))+"</span></th>":""},renderNumberIntroHtml:function(a){var b=this.view;return b.weekNumbersVisible?'<td class="fc-week-number" '+b.weekNumberStyleAttr()+"><span>"+this.getCellDate(a,0).format("w")+"</span></td>":""},renderBgIntroHtml:function(){var a=this.view;return a.weekNumbersVisible?'<td class="fc-week-number '+
a.widgetContentClass+'" '+a.weekNumberStyleAttr()+"></td>":""},renderIntroHtml:function(){var a=this.view;return a.weekNumbersVisible?'<td class="fc-week-number" '+a.weekNumberStyleAttr()+"></td>":""}},Gb=n.MonthView=va.extend({computeRange:function(a){var b;a=va.prototype.computeRange.call(this,a);return this.isFixedWeeks()&&(b=Math.ceil(a.end.diff(a.start,"weeks",!0)),a.end.add(6-b,"weeks")),a},setGridHeight:function(a,b){(b=b||"variable"===this.opt("weekMode"))&&(a*=this.rowCnt/6);ya(this.dayGrid.rowEls,
a,!b)},isFixedWeeks:function(){var a=this.opt("weekMode");return a?"fixed"===a:this.opt("fixedWeekCount")}});L.basic={"class":va};L.basicDay={type:"basic",duration:{days:1}};L.basicWeek={type:"basic",duration:{weeks:1}};L.month={"class":Gb,duration:{months:1},defaults:{fixedWeekCount:!0}};var Kb=n.AgendaView=S.extend({scroller:null,timeGridClass:hb,timeGrid:null,dayGridClass:ga,dayGrid:null,axisWidth:null,headContainerEl:null,noScrollRowEls:null,bottomRuleEl:null,initialize:function(){this.timeGrid=
this.instantiateTimeGrid();this.opt("allDaySlot")&&(this.dayGrid=this.instantiateDayGrid());this.scroller=new ib({overflowX:"hidden",overflowY:"auto"})},instantiateTimeGrid:function(){return new (this.timeGridClass.extend(Hb))(this)},instantiateDayGrid:function(){return new (this.dayGridClass.extend(Ib))(this)},setRange:function(a){S.prototype.setRange.call(this,a);this.timeGrid.setRange(a);this.dayGrid&&this.dayGrid.setRange(a)},renderDates:function(){this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml());
this.renderHead();this.scroller.render();var a=this.scroller.el.addClass("fc-time-grid-container"),b=f('<div class="fc-time-grid" />').appendTo(a);this.el.find(".fc-body > tr > td").append(a);this.timeGrid.setElement(b);this.timeGrid.renderDates();this.bottomRuleEl=f('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el);this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight());
this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},renderHead:function(){this.headContainerEl=this.el.find(".fc-head-container").html(this.timeGrid.renderHeadHtml())},unrenderDates:function(){this.timeGrid.unrenderDates();this.timeGrid.removeElement();this.dayGrid&&(this.dayGrid.unrenderDates(),this.dayGrid.removeElement());this.scroller.destroy()},renderSkeletonHtml:function(){return'<table><thead class="fc-head"><tr><td class="fc-head-container '+this.widgetHeaderClass+'"></td></tr></thead><tbody class="fc-body"><tr><td class="'+
this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+"</td></tr></tbody></table>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},renderBusinessHours:function(){this.timeGrid.renderBusinessHours();this.dayGrid&&this.dayGrid.renderBusinessHours()},unrenderBusinessHours:function(){this.timeGrid.unrenderBusinessHours();this.dayGrid&&this.dayGrid.unrenderBusinessHours()},getNowIndicatorUnit:function(){return this.timeGrid.getNowIndicatorUnit()},
renderNowIndicator:function(a){this.timeGrid.renderNowIndicator(a)},unrenderNowIndicator:function(){this.timeGrid.unrenderNowIndicator()},updateSize:function(a){this.timeGrid.updateSize(a);S.prototype.updateSize.call(this,a)},updateWidth:function(){this.axisWidth=Aa(this.el.find(".fc-axis"))},setHeight:function(a,b){var c,d,e;this.bottomRuleEl.hide();this.scroller.clear();xa(this.noScrollRowEls);this.dayGrid&&(this.dayGrid.removeSegPopover(),c=this.opt("eventLimit"),c&&"number"!=typeof c&&(c=Jb),
c&&this.dayGrid.limitRows(c));b||(d=this.computeScrollerHeight(a),this.scroller.setHeight(d),e=this.scroller.getScrollbarWidths(),(e.left||e.right)&&(wa(this.noScrollRowEls,e),d=this.computeScrollerHeight(a),this.scroller.setHeight(d)),this.scroller.lockOverflow(e),this.timeGrid.getTotalSlatHeight()<d&&this.bottomRuleEl.show())},computeScrollerHeight:function(a){return a-Ba(this.el,this.scroller.el)},computeInitialScroll:function(){var a=q.duration(this.opt("scrollTime")),a=this.timeGrid.computeTimeTop(a);
return a=Math.ceil(a),a&&a++,a},queryScroll:function(){return this.scroller.getScrollTop()},setScroll:function(a){this.scroller.setScrollTop(a)},prepareHits:function(){this.timeGrid.prepareHits();this.dayGrid&&this.dayGrid.prepareHits()},releaseHits:function(){this.timeGrid.releaseHits();this.dayGrid&&this.dayGrid.releaseHits()},queryHit:function(a,b){var c=this.timeGrid.queryHit(a,b);return!c&&this.dayGrid&&(c=this.dayGrid.queryHit(a,b)),c},getHitSpan:function(a){return a.component.getHitSpan(a)},
getHitEl:function(a){return a.component.getHitEl(a)},renderEvents:function(a){var b,c=[],d=[];for(b=0;b<a.length;b++)a[b].allDay?c.push(a[b]):d.push(a[b]);this.timeGrid.renderEvents(d);this.dayGrid&&this.dayGrid.renderEvents(c);this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},unrenderEvents:function(){this.timeGrid.unrenderEvents();this.dayGrid&&this.dayGrid.unrenderEvents()},renderDrag:function(a,b){return a.start.hasTime()?
this.timeGrid.renderDrag(a,b):this.dayGrid?this.dayGrid.renderDrag(a,b):void 0},unrenderDrag:function(){this.timeGrid.unrenderDrag();this.dayGrid&&this.dayGrid.unrenderDrag()},renderSelection:function(a){a.start.hasTime()||a.end.hasTime()?this.timeGrid.renderSelection(a):this.dayGrid&&this.dayGrid.renderSelection(a)},unrenderSelection:function(){this.timeGrid.unrenderSelection();this.dayGrid&&this.dayGrid.unrenderSelection()}}),Hb={renderHeadIntroHtml:function(){var a,b=this.view;return b.opt("weekNumbers")?
(a=this.start.format(b.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+b.widgetHeaderClass+'" '+b.axisStyleAttr()+"><span>"+x(a)+"</span></th>"):'<th class="fc-axis '+b.widgetHeaderClass+'" '+b.axisStyleAttr()+"></th>"},renderBgIntroHtml:function(){var a=this.view;return'<td class="fc-axis '+a.widgetContentClass+'" '+a.axisStyleAttr()+"></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},Ib={renderBgIntroHtml:function(){var a=this.view;
return'<td class="fc-axis '+a.widgetContentClass+'" '+a.axisStyleAttr()+"><span>"+(a.opt("allDayHtml")||x(a.opt("allDayText")))+"</span></td>"},renderIntroHtml:function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"}},Jb=5,gb=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];return L.agenda={"class":Kb,defaults:{allDaySlot:!0,allDayText:"all-day",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0}},L.agendaDay={type:"agenda",duration:{days:1}},
L.agendaWeek={type:"agenda",duration:{weeks:1}},n});